!function (e) {
    function t(e, n) {
        var a = r();
        return (t = function (e, t) {
            return a[e -= 187]
        }
        )(e, n)
    }
    var n = t;
    function r() {
        var e = ["copyico", "cool", "/static/star.svg", "preventDefault", "newpass", "texttheme", "pointerId", "checked", "dec", "size", "now", "themeico", "dblclick", "round", "flex", "readOnly", "removeChild", "floor", "fromCodePoint", "dataset", "offset", "deleteaccount", "showothercurs", "div", "customtheme", "#493AC1", "memberlist", "member", "inputType", "2055914epKCPp", "#7EED56", "px ", "open", "quadraticCurveTo", "appendChild", "Create", "focus", ", monospace", "random", "register", "setItem", "#000000", "paste", "fetchFont", "zoom", "&y=", "includes", "block", "strikethrough", "password", "New passwords do not match.", "opacity", "0,-10", "\\p{Extended_Pictographic}", "Unifont", "registerbtn", "hideCursors", "msg", "inputmember", "private", "dark blue", "selectionEnd", "startsWith", "loginbtn", "execCommand", "noui", "10px Special", "pointercancel", "Please type a password.", "/static/fonts/terminus.hex", "disableChat", "rgba(0,120,212,0.5)", "Please type 'confirm' in the text box if you would like to delete your wall.", "pop", "log", "italic bold 10px ", "insertBefore", "href", "true", "toLowerCase", "length", "#6D482F", "accountdeleted", "clientHeight", "font", "col", "change", "none", "7382lhphtT", "refresh", "target", "string", "writeText", "OffscreenCanvas", "touchend", "addmemberbtn", "rgba(221,249,255,0.5)", "#EBEBEB", "binaryType", "translateX(0px)", "get", "/static/lock_open.svg", "cursor", "themetext", "backgroundColor", "textarea", "Firefox", "fillRect", "lastedit", "maxLength", "innerWidth", "walllist", "Username/Password is incorrect.", "newpass2", "loginfail", "#898D90", "clientY", "innerText", "text", "#FFB470", " nearby", "number", "accountsettings", "deleteContentBackward", "connecting2", "left", "codePointAt", "perms", "oldpass", "top", "display", "contains", "Password has been changed.", "You cannot add more than 20 members.", "teal", "substring", "Please type your username.", "transform", "getMonth", "#6A5CFF", "translate", "toString", "/static/moon.svg", "onchange", "shift", ", monospace, Special", "span", "shownametags", "328500xgTFKE", "tpwordgo", "fillText", "end", "highlighted", "clipboardData", "getFloat64", "Invalid code point: ", "chatbox", "disablecolour", "Array.from requires an array-like object - not null or undefined", "pale purple", "password2", "createElement", "Array.from: when provided, the second argument must be a function", "bold", "/static/ping.js", "fillStyle", "18ZbIeJp", "#009EAA", "Inconsolata", "wheel", "padStart", "addmem", "byteOffset", "100%", "selected", "insertLineBreak", "translateX(-105%)", "toUpperCase", "rainbow", "disabled", "setTransform", "pageX", "wrongpass", "submitpasschange", "disableColour", "optionsmenu", "decorations", "bdtiple", "add", "chat to nobody", "closemenu", "keys", "userAgent", "showchat", "dark grey", "src", "fill", "black", "primary", "call", "0.2", "nametaken", "main", "innerHeight", "drawText", "childElementCount", "chngusername", "remove", "getElementById", "light pink", "coords", "Array.prototype.indexOf called on null or undefined", "getContext", "disablebraille", "#B44AC0", "select", "sign", "deletepassword", "placeholder", "delete", "tpcoordgo", "ws://", "Create a new wall", "splice", "set", "spaceMissingCharacters", "yellow", "alert", "arraybuffer", "10px", "copy", "abc", "drawChar", "host", "-20,-10", "chunks", "charCodeAt", "freename", "#9C6926", "alt", "edge", "You have typed in your current username.", "isArray", "type 'confirm' here", "walldisablecolour", "rgba(204,204,204,0.5)", "underline", "option", "split", "#FFD635", "strokeStyle", "buttonlink", "popstate", "removeItem", "test", "Your username is now: ", "classList", "undefined", "min", "pointerup", "login", "maxy", "Terminus", "charMap", "orientationchange", "#811E9F", "onclick", "1024463WHQzZL", "function", "keydown", "dpr", "registerlink", "hidden", "copydecorations", "bold ", "Custom", "admin", "logoutlink", "data", "clientX", "deltaY", "onerror", "tpy", "orange", "txt", "Please type your new password.", "readonly", "msgcontainer", "protect", "3gLFWBy", "noreg", "scale", "scrollHeight", "520rMZDVP", "deletename", "/ws", "tagName", "parse", "submitnamechange", "protected", "sqrt", "Public", "This wall is in read-only mode.", "send", "indexOf", "parseFont", "magenta", "rawy", "/static/sun.svg", "subarray", "wss://", "input", "light teal", "/static/done.svg", "removeAttribute", "colour", "fontSize", "onclose", "clr", ": (", "offsetTop", "info", "addEventListener", "replace", "touches", "children", "unread", "#FFA800", "clear", "smoothcursors", "passchanged", "ctrlKey", "close", "max", "home", "#2450A4", "innerHTML", "green", "keyCode", "reload", "translateX(", "rawx", "imageSmoothingEnabled", "goto", " nearby)", "px Special", "Password is incorrect.", "OPEN", "openmenu", "Connected.", "italic", "/static/fonts/fixed.hex", "prototype", "[object Function]", "   ", "Connection lost.", "pathname", "red", "drawImage", "deletewallconfirm", "createTextNode", "light green", "false", "clientWidth", "start", "show", "light blue", "copycolour", "ceil", "priv", "#94B3FF", "content", "brown", "justifyContent", "loginname", "loggedin", "style", "dcl", "altKey", "3268832GOrAoJ", "substr", "resize", "getElementsByClassName", "pink", "parentNode", "object", "anonymous", "rgba(239, 255, 71, 0.5)", "#222222", "free", "bmp", "italic ", "#6D001A", "Username is invalid.", "shiftKey", "type", "admintable", "140cEWkKM", "img", "submit", "isTrusted", " online", "from", "~main", "maxx", " (disconnected)", "requestAnimationFrame", "username", "chatmsg", "touchstart", "delaccountform", "button", "rgba(34, 34, 34, 0.4)", "\n\n\n\n\n\n\n\n\n", "pushState", "Please type your new password again.", "title", "toasting", "#FF99AA", "invalidTypeReplacement", "tpword", "#FFFFFF", "#51E9F4", "#3690EA", "lastElementChild", "minx", "contextmenu", "insertFromPaste", "monospace", "token", "GET", "pointerdown", "pasteico", "color", "teleport", "height", "abs", "px Courier", "canvas", "customfontsize", "blur", "checkbox", "Please type a username.", "Invalid wall name", "online", "roundRect", "readText", "^[a-zA-Z0-9_-]{1,24}$", "tpx", "unshift", "crosshair", "clipboard", "usermenu", "dark purple", "readyState", "lineTo", "burgundy", "stringify", "theme", "forceSharpPixels", "fromCharCode", "christmas", "value", "blue", "smoothpanning", "pointermove", "defineProperty", "has", "measureText", "disableBraille", "nextSibling", "customfont", "addmembers", "pageY", "colourlist", "textAlign", "parentElement", "dark red", "fontselect", "Please type your password.", "miny", "1339710QIWWjh", "#DE107F", "iPod", "Click here to reconnect.", "http", "https:", "width", "loginpass", "click", "status", "beige", "slice", "connecting1", "setAttribute", "sort", "replaceState", "textwall", "italic 10px ", "chngeusrpass", "chat", "77886fpVOzR", "pow", "history", "push", "exportFont", "Copied link.", "ontouchstart", "getDate", "scrollTop", "enabled", "iPad", "secondary", "lavender", "empty", "moveTo", "beginPath", "apply", " ~ ", "then", "getItem", "deletewall", "/static/copy.svg", "#515252", "rgba(", "#141414"];
        return (r = function () {
            return e
        }
        )()
    }
    window.getMapping = r;
    (function (e, n) {
        for (var r = t, a = e(); ;)
            try {
                if (869104 === -parseInt(r(375)) / 1 + -parseInt(r(508)) / 2 * (parseInt(r(709)) / 3) + parseInt(r(568)) / 4 + parseInt(r(187)) / 5 * (parseInt(r(395)) / 6) + parseInt(r(449)) / 7 + -parseInt(r(273)) / 8 * (parseInt(r(586)) / 9) + parseInt(r(291)) / 10 * (parseInt(r(687)) / 11))
                    break;
                a.push(a.shift())
            } catch (e) {
                a.push(a.shift())
            }
    }
    )(r),
        function (e) {
            var n = t;
            class r {
                constructor(e, n) {
                    var r = t;
                    this.charMap = new Map,
                        this[r(711)] = 1,
                        this.spaceMissingCharacters = !1,
                        this[r(353)] = !1,
                        this[r(583)] = !1,
                        this.italic = !1,
                        null != e && this[r(463)](e, n)
                }
                [n(463)](e, r) {
                    var a = n
                        , o = this
                        , i = new XMLHttpRequest;
                    i.onreadystatechange = function () {
                        var e = t;
                        4 == i[e(348)] && 200 == i[e(384)] && (o[e(199)](i.responseText),
                            null != r && r())
                    }
                        ,
                        i[a(452)](a(324), e, !0),
                        i[a(197)](null)
                }
                [n(199)](e) {
                    var t = n
                        , r = e[t(668)]("\n");
                    const a = r[t(500)];
                    for (var o = 0; o < a; o++) {
                        var i = r[o];
                        if (!i.startsWith("#")) {
                            var c = i[t(668)](":");
                            if (2 == c.length) {
                                for (var l = parseInt(c[0], 16), u = c[1], s = u[t(500)], d = new Uint8Array(s / 2), f = 0; f < s; f += 2)
                                    d[f / 2] = parseInt(u.slice(f, f + 2), 16);
                                this.charMap.set(l, d)
                            }
                        }
                    }
                }
                [n(399)]() {
                    var e = n
                        , t = "";
                    for (const [n, o] of this[e(683)].entries()) {
                        var r = "";
                        r += n[e(561)](16)[e(590)](4, "0").toUpperCase(),
                            r += ":";
                        for (var a = 0; a < o.length; a++)
                            r += o[a][e(561)](16)[e(590)](2, "0")[e(597)]();
                        t += r += "\n"
                    }
                    return t
                }
                drawChar(e, t, r, a) {
                    var o = n
                        , i = e.codePointAt()
                        , c = this.charMap[o(520)](i);
                    if (null == c)
                        return this[o(645)] ? 8 * this[o(711)] : 0;
                    var l = c[o(500)]
                        , u = l / 16
                        , s = (this[o(583)] ? 2 : 1) * this[o(711)]
                        , d = 1 * this[o(711)];
                    this[o(353)] && (s = Math[o(262)](s),
                        d = Math.ceil(d));
                    for (var f = 0; f < l; f++) {
                        var v = c[f]
                            , m = this[o(244)] ? Math.round((f - l) / 3) : 0
                            , h = Math[o(437)](f / u) * this.scale;
                        this.forceSharpPixels && (h = Math[o(433)](h));
                        for (var y = 0; y < 8; y++)
                            if (v >> y & 1) {
                                var g = (8 * (Math.floor(f % u) + 1) - y - m) * this.scale;
                                this[o(353)] && (g = Math[o(433)](g)),
                                    t.fillRect(r + g, a + h, s, d)
                            }
                    }
                    return 8 * u * this[o(711)]
                }
                [n(624)](e, t, r, a) {
                    for (var o = n, i = r, c = a, l = Array[o(296)](e), u = 0; u < l[o(500)]; u++) {
                        var s = l[u];
                        "\r" != s && ("\n" != s ? r += this.drawChar(s, t, r, a) : (a += 16 * this.scale,
                            r = i))
                    }
                    return {
                        x: r - i,
                        y: (a += 16 * this[o(711)]) - c
                    }
                }
            }
            var a, o = "/";
            const i = document.getElementById(n(525))
                , c = document[n(628)]("connecting")
                , l = document[n(628)](n(215))
                , u = -1 != navigator.userAgent[n(198)]("iPhone") || -1 != navigator[n(612)][n(198)](n(377)) || -1 != navigator.userAgent.indexOf(n(405))
                , s = -1 != navigator[n(612)][n(198)](n(526))
                , d = u ? 40 : 200
                , f = new Date;
            var v = devicePixelRatio
                , m = !1
                , h = document[n(310)]
                , y = !0;
            const g = document[n(628)]("toast");
            var p;
            const b = document[n(628)](n(345))
                , x = document[n(628)](n(346))
                , w = document[n(628)](n(368))
                , M = document[n(628)](n(328));
            var k = document[n(628)](n(332));
            k[n(208)]("id");
            var E = k.getContext("2d", {
                alpha: !1
            });
            k[n(381)] = Math.round(window[n(530)] * v),
                k[n(329)] = Math[n(433)](window.innerHeight * v),
                k[n(270)][n(381)] = window[n(530)] + "px",
                k[n(270)][n(329)] = window[n(623)] + "px",
                E.imageSmoothingEnabled = !1;
            var renderChunkAmount = 100;
            const S = n(315)
                , I = n(517);
            var C = S
                , A = I
                , T = Xr(A, 10);
            const B = document.getElementById(n(618))
                , F = document[n(628)](n(406))
                , P = document[n(628)](n(523))
                , L = document[n(628)]("thememenu")
                , O = document.getElementById(n(365))
                , R = document[n(628)](n(333))
                , D = document[n(628)]("fontmenu");
            var N = 0;
            var j = 0
                , U = !1
                , W = ""
                , H = ""
                , K = !1;
            const X = document[n(628)]("wallsettings")
                , z = document[n(628)](n(366))
                , q = document[n(628)](n(531));
            var Y;
            const J = document[n(628)](n(415))
                , V = String.fromCharCode(10240)
                , Z = String[n(354)](27)
                , $ = {
                    Inconsolata: 18,
                    "IBM Plex Mono": 16,
                    "Roboto Mono": 16,
                    "Courier Prime": 16,
                    Courier: 16,
                    "Cutive Mono": 18,
                    Cousine: 16,
                    Unifont: 16,
                    Terminus: 16,
                    Fixed: 16,
                    monospace: 18,
                    "Ubuntu Mono": 20,
                    "Libertinus Mono": 16,
                    Fixedsys: 18,
                    Pointfree: 16,
                    Monofur: 18,
                    "Fantasque Sans Mono": 18,
                    "JetBrains Mono": 18,
                    Hack: 18,
                    "Fira Code": 18,
                    "Space Mono": 18,
                    "Anonymous Pro": 16,
                    "Source Code Pro": 18,
                    Iosevka: 18,
                    "Cascadia Mono": 18,
                    "Noto Sans Mono": 16,
                    "PxPlus IBM VGA8": 16,
                    Menlo: 16,
                    Consolas: 16,
                    "Andale Mono": 16,
                    "Lucida Console": 16,
                    Monaco: 16,
                    "DM Mono": 16,
                    "Quicksand Mono": 18,
                    Custom: 20,
                };

            var G = n(588)
                , Q = Math.floor($[G] * v) + n(451) + G + ", monospace, Special";
            const _ = new Map;
            _[n(644)](n(474), void 0),
                _[n(644)](n(682), void 0),
                _[n(644)]("Fixed", void 0);
            const ee = Object.keys($)[n(500)]
                , te = document[n(628)](n(372));
            for (var ne = 0; te[n(500)] > 0; ne++)
                ;
            for (ne = 0; ne < ee; ne++)
                option = document[n(581)](n(667)),
                    option[n(538)] = Object.keys($)[ne],
                    te.add(option);
            te[n(356)] = G;
            const re = document.getElementById(n(606));
            re[n(216)](n(320), (function (e) {
                e[n(423)]()
            }
            ));
            const ae = {
                bold: {
                    el: document[n(628)]("bold"),
                    enabled: !1
                },
                italic: {
                    el: document[n(628)](n(244)),
                    enabled: !1
                },
                underline: {
                    el: document.getElementById("underline"),
                    enabled: !1
                },
                strikethrough: {
                    el: document.getElementById(n(468)),
                    enabled: !1
                }
            };
            var oe = Object.keys(ae);
            for (ne = 0; ne < oe.length; ne++)
                ae[oe[ne]].el.addEventListener(n(383), pr);
            function ie(e) {
                var t, r, a = n;
                if (e) {
                    re[a(270)].display = a(434);
                    var o = (t = Ce.x,
                        r = Ce.y,
                    {
                        x: t * (10 * v) / devicePixelRatio + qe[a(440)].x / devicePixelRatio,
                        y: r * (20 * v) / devicePixelRatio + qe.offset.y / devicePixelRatio
                    });
                    o.x + 15 * v + re[a(257)] > window[a(530)] ? re.style[a(545)] = o.x - re[a(257)] - 5 * at + "px" : re[a(270)][a(545)] = o.x + 15 * at + "px",
                        re[a(270)][a(549)] = Math[a(227)](o.y - re[a(503)], 0) + "px"
                } else
                    re[a(270)][a(550)] = "none"
            }
            function ce() {
                var e = n
                    , t = 0;
                return ae.bold[e(404)] && (t += 8),
                    ae.italic.enabled && (t += 4),
                    ae[e(666)][e(404)] && (t += 2),
                    ae[e(468)][e(404)] && (t += 1),
                    t
            }
            function le(e) {
                var t = n;
                br(t(583), Boolean(8 & e)),
                    br(t(244), Boolean(4 & e)),
                    br("underline", Boolean(2 & e)),
                    br(t(468), Boolean(1 & e))
            }
            const ue = 192
                , se = [n(461), n(535), "#D4D7D9", n(312), "#FF4500", n(221), n(658), n(669), n(450), "#00CC78", n(316), n(317), n(229), n(634), n(685), "#BE0039", "#00A368", "#00756F", n(587), n(445), n(559), "#FF3881", n(501), n(286), "#FFF8B8", "#00CCC0", n(264), "#E4ABFF", n(376), n(539), n(417)]
                , de = [n(617), "grey", "light grey", n(629), n(251), n(703), n(266), n(646), n(255), n(231), n(260), n(357), n(480), "purple", n(347), n(371), "dark green", "dark teal", n(554), "indigo", "periwinkle", n(277), "dark brown", n(350), "pale yellow", n(206), n(407), n(579), n(200), n(385), n(614)]
                , fe = [0, 30, 1, 2, 23, 15, 4, 5, 7, 24, 16, 9, 8, 17, 18, 25, 12, 11, 10, 19, 20, 26, 14, 13, 27, 28, 21, 3, 22, 6, 29];
            function ve(e) {
                for (var t = n, r = 0; r < se[t(500)]; r++)
                    if (fe[r] == e)
                        return r;
                return -1
            }
            var me = [];
            !function () {
                var e = n;
                for (ne = 0; ne < se[e(500)]; ne++)
                    me[ne] = Yr(se[ne], .2);
                me[se[e(500)]] = "rgba(255, 255, 255, 0.2)"
            }();
            var he, ye, ge, pe = 0, be = Yr(se[pe], .6), xe = !1, we = new Map, Me = [], ke = [], Ee = new Map, Se = new Worker(n(584)), Ie = !1, Ce = {
                x: 0,
                y: 0,
                rawx: 0,
                rawy: 0,
                visible: !0,
                start: 0,
                lastedit: {
                    x: 0,
                    y: 0
                }
            }, Ae = {
                x: 0,
                y: 0
            }, Te = {
                x: 0,
                y: 0
            }, Be = [], Fe = [], Pe = new Map, Le = !0, Oe = !0, Re = !0, De = !1, Ne = [], je = "", Ue = 0, We = 0, He = document[n(628)]("coords"), Ke = document.getElementById("nearby"), Xe = performance[n(430)](), ze = {
                scale: 1,
                offset: {
                    x: 0,
                    y: 0
                }
            }, qe = {
                start: {
                    x: null,
                    y: null
                },
                offset: {
                    x: 0,
                    y: 0
                },
                coords: {
                    x: 0,
                    y: 0
                }
            }, Ye = !1, Je = !1, Ve = !1, Ze = !1, $e = {}, Ge = [], Qe = null, _e = [];
            for (ne = 0; ne < 200; ne++)
                _e[ne] = " ";
            var et = [];

            for (ne = 0; ne < 200; ne++)
                et[ne] = 0;
            document.getElementById(n(372))[n(563)] = function (e) {
                var t = n;
                vt(e[t(510)][t(356)])
            }
                ;
            const tt = {
                showothercurs: document.getElementById(n(442)),
                shownametags: document[n(628)](n(567)),
                showchat: document[n(628)](n(613)),
                disablecolour: document.getElementById(n(577)),
                smoothpanning: document[n(628)](n(358)),
                smoothcursors: document.getElementById("smoothcursors"),
                copycolour: document[n(628)](n(261)),
                copydecorations: document[n(628)](n(693)),
                rainbow: document[n(628)]("rainbow"),
                anonymous: document[n(628)](n(280)),
                darkChat: document.getElementById("darkChat"),
                rainbowTag: document.getElementById("rainbowTag"),
                fps: document.getElementById("fps"),
                showFeedback: document.getElementById("showFeedback"),
                anonIdShow: document.getElementById("anonIdShow")
            };
            tt.showothercurs[n(427)] = !0,
                tt[n(567)][n(427)] = !0,
                tt.showchat[n(427)] = !0,
                tt[n(577)][n(427)] = !1,
                tt[n(358)][n(427)] = !0,
                tt[n(223)].checked = !0,
                tt["showFeedback"].checked = !0,
                tt["anonIdShow"].checked = !0,
                tt["rainbowTag"].checked = !0;
            const nt = {
                protect: document[n(628)]("protect"),
                clear: document.getElementById(n(222)),
                readOnly: document[n(628)](n(706)),
                private: document.getElementById("private"),
                hideCursors: document[n(628)]("hidecursors"),
                disableChat: document[n(628)]("disablechat"),
                disableColour: document[n(628)](n(664)),
                disableBraille: document.getElementById(n(633))
            };
            var rt = 1
                , at = 1
                , ot = document[n(628)](n(464));
            function it(e, t) {
                var r = n;
                rt = e < .5 ? .5 : e > 3 ? 3 : e,
                    at = Math.round(100 * rt) / 100,
                    localStorage[r(460)](r(464), at),
                    ot[r(356)] = 10 * at,
                    t && ir(Math[r(433)](100 * at) + "% ", 1e3),
                    kn()
            }
            function ct() {
                it(ot[n(356)] / 10, !0)
            }
            var lt = document[n(628)](n(691))
                , ut = document[n(628)]("loginlink")
                , st = document.getElementById(n(697));
            function dt(e, t) {
                var r = n;
                e && (localStorage.removeItem(r(301)),
                    localStorage[r(673)]("token")),
                    je = "",
                    j = 0,
                    X.style[r(550)] = r(507),
                    a.readyState != a[r(241)] || t || (nt.private[r(427)] && Cn("textwall", r(622)),
                        a.send(Or({
                            logout: 0
                        })),
                        Re = !0),
                    document[r(628)]("login")[r(270)][r(550)] = "block",
                    document.getElementById(r(269))[r(270)].display = r(507),
                    vn(!1),
                    xn(),
                    m = !1,
                    document[r(628)](r(696))[r(270)][r(550)] = r(507),
                    ge = !0
            }
            function ft() {
                var e = n;
                return 16 * Math[e(433)](v) > 20 * v || 16 * Math[e(433)](v) < 13 * v ? v : Math[e(433)](v)
            }
            function vt(e) {
                var t = n;
                if (G = e,
                    _[t(361)](G)) {
                    var a = _.get(G);
                    if (null == a) {
                        switch (G) {
                            case "Unifont":
                                a = new r("/static/fonts/unifont-15.0.01.hex", Sn);
                                break;
                            case t(682):
                                a = new r(t(489), Sn);
                                break;
                            default:
                                a = new r(t(245), Sn)
                        }
                        a[t(353)] = !0,
                            _[t(644)](G, a)
                    }
                    a[t(711)] = ft()
                }
                var o = G
                    , i = $[G];
                t(695) == G ? (D[t(676)].remove(t(692)),
                    o = O[t(356)],
                    i = Math[t(227)](Math[t(678)](20, R[t(356)]), 1),
                    localStorage[t(460)]("customfont", o),
                    localStorage[t(460)](t(333), i),
                    o = '"' + (o || t(322)) + '"') : D.classList[t(608)](t(692)),
                    Q = Math[t(437)](i * v) + t(451) + o + t(565),
                    localStorage[t(460)](t(504), G),
                    document.getElementById(t(372))[t(356)] = G,
                    ge = !0
            }
            function mt() {
                var e = n;
                return Math[e(262)](.1 * Math[e(433)](Et * v / .1))
            }
            function ht() {
                return mt()
            }
            function yt(e) {
                var t = n;
                E[t(527)](Math[t(433)](10 * e[0] * v), Math.round(20 * e[1] * v), mt(), ht())
            }
            function gt(e) {
                var t = n;
                e.font = Math[t(433)](11 * v) + t(451) + G + t(457)
            }
            function pt(e, t) {
                var r = n
                    , a = we[r(520)](e);
                if (a.empty)
                    E.fillStyle = a.protected ? A : C,
                        yt(t);
                else {
                    var o = a[r(292)];
                    s && (o = a[r(284)]),
                        null != o ? (E[r(252)](o, Math[r(433)](10 * t[0] * v), Math.round(20 * t[1] * v), mt(), ht()),
                            a[r(690)] == v && a.font == Q || St(e, !1)) : (E.fillStyle = T,
                                yt(t),
                                St(e, !1))
                }
            }
            function bt(e) {
                var t = n;
                return e = e || 0,
                {
                    minx: -qe[t(440)].x / v / 10 - e,
                    maxx: -qe.offset.x / v / 10 + window.innerWidth / at / 10 + e - 20,
                    miny: -qe[t(440)].y / v / 20 - e,
                    maxy: -qe[t(440)].y / v / 20 + window[t(623)] / at / 20 + e - 10
                }
            }
            function xt(e, t) {
                var r = n;
                return e[0] < t.minx || e[0] > t[r(298)] || e[1] < t.miny || e[1] > t[r(681)]
            }

            function wt(e) {
                var t = n;
                return we[t(520)](e)[t(630)] || e[t(668)](",")
            }
            function Mt(e, t, r, a) {
                var o = n;
                if ("" != e) {
                    E[o(585)] = o(306);
                    var i = E[o(362)](e);
                    E.beginPath(),
                        E.roundRect(Math[o(433)](t - i.width / 2), Math[o(433)](r + 21 * v), Math[o(433)](i[o(381)] + 10 * v), Math[o(433)](14 * v), [a]),
                        E[o(616)](),
                        E[o(585)] = o(315),
                        E.fillText(e, Math.round(t - i[o(381)] / 2 + 5 * v), Math[o(433)](r + 31 * v))
                }
            }
            function kt(e, t, r, a) {
                var o = n;
                E[o(527)](Math[o(433)](e), Math[o(433)](t), Math[o(433)](r), Math[o(433)](a))
            }
            !function () {
                var e = n;
                E[e(504)] = e(486),
                    E[e(570)](e(651), 0, 10),
                    E[e(504)] = Q,
                    E[e(570)]("abc", 0, 10);
                for (var t = 0; t < Object.keys($)[e(500)]; t++)
                    E.font = "10px " + Object.keys($)[t],
                        E[e(570)](e(651), 0, 10),
                        E[e(504)] = "bold 10px " + Object[e(611)]($)[t],
                        E.fillText("abc", 0, 10),
                        E.font = e(392) + Object[e(611)]($)[t],
                        E[e(570)](e(651), 0, 10),
                        E.font = e(495) + Object[e(611)]($)[t],
                        E.fillText(e(651), 0, 10)
            }();
            const Et = 200;
            function St(e, t) {
                var r = n;
                Ee[r(361)](e) ? 0 == Ee[r(520)](e) && t && Ee[r(644)](e, t) : (ke[r(398)](e),
                    Ee[r(644)](e, t))
            }
            function It(e, t) {
                var r = n;
                Ee[r(361)](e) ? 0 == Ee[r(520)](e) && t && Ee[r(644)](e, t) : (ke[r(343)](e),
                    Ee[r(644)](e, t))
            }
            window.It = It;
            var Ct, At, Tt;
            try {
                Ct = RegExp(n(473), "u")
            } catch (e) {
                Ct = !1
            }
            try {
                At = RegExp("\t", "gm")
            } catch (e) {
                At = !1
            }
            try {
                Tt = RegExp("\r", "gm")
            } catch (e) {
                Tt = !1
            }
            var Bt = RegExp(n(341));
            function Ft(e) {
                return 65 + Math[n(437)](26 * e)
            }
            function Pt(e) {
                return 48 + Math.floor(10 * e)
            }
            function Lt(e) {
                return "AEIOU"[Math[n(437)](5 * e)].codePointAt()
            }
            function Ot(e) {
                var t = n;
                return "BCDFGHJKLMNPQRSTVWXYZ"[Math[t(437)](21 * e)][t(546)]()
            }
            function Rt(e) {
                const t = Math.random();
                switch (e - 58112) {
                    case 0:
                        return t < .41 ? Ft(t) + 32 : t < .83 ? Ft(t) : Pt(t);
                    case 1:
                        return t < .72 ? Ft(t) + 32 : Pt(t);
                    case 2:
                        return t < .72 ? Ft(t) : Pt(t);
                    case 3:
                        return t < .5 ? Ft(t) + 32 : Ft(t);
                    case 4:
                        return Ft(t) + 32;
                    case 5:
                        return Ft(t);
                    case 6:
                        return Pt(t);
                    case 7:
                        return t < .5 ? Lt(t) + 32 : Lt(t);
                    case 8:
                        return Lt(t) + 32;
                    case 9:
                        return Lt(t);
                    case 10:
                        return t < .5 ? Ot(t) + 32 : Ot(t);
                    case 11:
                        return Ot(t) + 32;
                    case 12:
                        return Ot(t)
                }
                return 97
            }
            function Dt(e) {
                return (e + 2) % 20 < 2
            }
            function Nt(e) {
                var t = n;
                return Math[t(433)](14 * e) + t(331)
            }
            function jt(e, t, r, a, o) {
                var i = n;
                e[i(570)](t, Math.floor(r), Math[i(437)](a + 15 * o))
            }
            function Ut(e, t, r, a, o, i, c) {
                var l = n;
                e[l(652)](r, t, Math[l(437)](a), Math[l(437)](o + (10 * i - c / 2)))
            }
            function Wt(e) {
                var t = n;
                e[t(504)] = t(694) + e.font
            }
            function Ht(e) {
                var t = n;
                e[t(504)] = t(285) + e.font
            }
            function Kt(e, t) {
                var r = n;
                tt[r(577)][r(427)] && (t = 0),
                    e[r(585)] = xe && 0 == t ? r(315) : se[t]
            }
            function Xt(e, t) {
                var r = n
                    , a = we[r(520)](e);
                if (null != a && null != a[r(704)]) {
                    var o = zt(e);
                    if (a[r(408)] = o,
                        o) {
                        qt(e);
                        var i = wt(e)
                            , c = i[0] + 20 + "," + i[1];
                        if (we[r(361)](c)) {
                            var l = we.get(c);
                            null != l[r(704)] && (zt(c) ? (l[r(408)] = !0,
                                qt(c)) : t && It(c, !1))
                        }
                    } else {
                        var u = mt()
                            , d = ht();
                        null == a[r(292)] && (null != window[r(513)] ? a[r(292)] = new OffscreenCanvas(u, d) : a[r(292)] = document[r(581)](r(332))),
                            a.img[r(381)] = u,
                            a.img[r(329)] = d,
                            function (e, t, n, a, o) {
                                var i = r
                                    , c = we[i(520)](a);
                                e[i(236)] = !1,
                                    e.textBaseline = "alphabetic",
                                    e[i(369)] = i(545),
                                    e.fillStyle = c.protected ? A : C,
                                    e[i(527)](0, 0, t, n);
                                var l, u, s = {}, d = !1, f = wt(a), v = f[0] - 20 + "," + f[1];
                                if (we[i(361)](v)) {
                                    var m = we.get(v);
                                    null == m.edge || !m.protected && c[i(193)] || (l = m[i(660)])
                                }
                                for (var h, y = t / Et, g = _[i(520)](G), p = 16 * ft(), b = 0; b < 10; b++)
                                    for (var x = -2; x < 20; x++) {
                                        var w = t / 20 * x
                                            , M = n / 10 * b;
                                        if (x < 0 && null != l) {
                                            var k = x + 20 * b;
                                            if (null != l[k]) {
                                                var E = l[k];
                                                Kt(e, E[2]),
                                                    null != g && g[i(683)][i(361)](E[0][i(546)]()) ? (g[i(583)] = E[3],
                                                        g[i(244)] = E[4],
                                                        Ut(g, e, E[0], w, M, y, p)) : (e[i(504)] = E[1] ? Nt(y) : Q,
                                                            E[3] && Wt(e),
                                                            E[4] && Ht(e),
                                                            jt(e, E[0], w, M, y))
                                            }
                                        }
                                        if (!(x < 0)) {
                                            var S = c[i(704)][x + 20 * b]
                                                , I = Zr(c.clr[x + 20 * b])
                                                , T = I[1];
                                            if (!Qn(S, T)) {
                                                var B = S[i(546)]()
                                                    , F = I[0];
                                                Kt(e, F),
                                                    e[i(504)] = Q;
                                                var P = !1;
                                                8 & T && (P = !0,
                                                    Wt(e));
                                                var L = !1;
                                                if (4 & T && (L = !0,
                                                    Ht(e)),
                                                    (h = B) >= 58112 && h <= 58124 && (B = Rt(B),
                                                        S = String[i(438)](B)),
                                                    (u = B) >= 9472 && u <= 9632 && !(u >= 9476 && u <= 9483) && !(u >= 9548 && u <= 9551) || u >= 9698 && u <= 9701 || qr(B))
                                                    e[i(504)] = Math[i(433)](20 * y) + i(239),
                                                        e[i(570)](S, Math[i(433)](w), Math[i(437)](M + 15 * y));
                                                else {
                                                    var O = !1;
                                                    Ct && Ct[i(674)](S) && (O = !0,
                                                        e[i(504)] = Nt(y)),
                                                        null != g && g[i(683)][i(361)](B) ? (g[i(583)] = P,
                                                            g[i(244)] = L,
                                                            Ut(g, e, S, w, M, y, p)) : jt(e, S, w, M, y),
                                                        x >= 18 && (s[x - 20 + 20 * b] = [S, O, F, P, L],
                                                            d = !0)
                                                }
                                                2 & T && e[i(527)](Math[i(437)](w - .5 * y), Math[i(433)](M + 17.5 * y), Math[i(262)](11 * y), Math[i(262)](y)),
                                                    1 & T && e.fillRect(Math[i(437)](w - .5 * y), Math[i(437)](M + 9 * y), Math.ceil(11 * y), Math[i(262)](y))
                                            }
                                        }
                                    }
                                if (c[i(660)] = d ? s : void 0,
                                    o) {
                                    var R = f[0] + 20 + "," + f[1];
                                    we.has(R) && null != we[i(520)](R)[i(704)] && It(R, !1)
                                }
                            }(a[r(292)][r(632)]("2d", {
                                alpha: !1
                            }), u, d, e, t),
                            a[r(690)] = v,
                            a[r(504)] = Q,
                            s && createImageBitmap(a[r(292)])[r(413)]((function (t) {
                                var n = r;
                                if (we[n(361)](e)) {
                                    var a = we[n(520)](e);
                                    null != a.bmp && a[n(284)][n(226)](),
                                        a[n(284)] = t,
                                        ge = !0
                                }
                            }
                            )),
                            a[r(408)] = !1
                    }
                }
            }
            function zt(e) {
                for (var t = n, r = we[t(520)](e), a = !0, o = 0; o < 200; o++)
                    if (!Qn(r.txt[o], Zr(r[t(212)][o])[1])) {
                        a = !1;
                        break
                    }
                if (a && (r[t(660)] = void 0),
                    a) {
                    var i = wt(e)
                        , c = i[0] - 20 + "," + i[1];
                    we[t(361)](c) && null != we[t(520)](c).edge && (a = !1)
                }
                return a
            }
            function qt(e) {
                var t = n;
                if (we.has(e)) {
                    var r = we[t(520)](e);
                    null != r[t(292)] && delete r.img
                }
            }
            var Yt = null;
            function Jt(e, t) {
                var r = n;
                return null != Yt && Yt[r(319)] <= e && e < Yt.maxx && Yt[r(374)] <= t && t < Yt[r(681)]
            }
            function Vt(e, t) {
                return e[0] === t[0] ? 0 : e[0] < t[0] ? -1 : 1
            }
            function Zt(e) {
                for (var t = n, r = innerWidth / innerHeight, a = [], o = qe[t(630)].x, i = 2 * qe.coords.y * r, c = 0; c < e.length; c += 2) {
                    var l = e[c] + 10
                        , u = 2 * (e[c + 1] + 5) * r
                        , s = Math[t(194)](Jr(o - l) + Jr(i - u));
                    a[t(398)]([s, c])
                }
                return a[t(389)](Vt),
                    a
            }


            var $t, Gt = !1;
            function Qt() {
                var e = n;
                if (!Gt) {
                    for (var t = -120 - 20 * Math[e(437)](qe[e(440)].x / (200 * v)), r = -60 - 10 * Math[e(437)](qe[e(440)].y / (200 * v)), o = r, i = Math.floor(window.innerWidth / (10 * at) - qe[e(440)].x / (10 * v) + 120), c = Math.floor(window[e(623)] / (20 * at) - qe[e(440)].y / (20 * v) + 60), l = []; t < i;) {
                        for (; r < c;) {
                            var u = t + "," + r;
                            !we[e(361)](u) && Jt(t, r) && l[e(398)](t, r),
                                r += 10
                        }
                        r = o,
                            t += 20
                    }
                    if (0 != l[e(500)]) {
                        var s = Zt(l);
                        $t = [];
                        for (var d = 0, f = 0; f < s[e(500)]; f++) {
                            var m = s[f][1]
                                , h = l[m]
                                , y = l[m + 1];
                            if (u = h + "," + y,
                                $t[e(398)](h / 20, y / 10),
                                we[e(644)](u, {}),
                                // take 100 and replace it to renderChunkAmount
                                renderChunkAmount == ++d)
                                break
                        }
                        d > 0 && (a[e(197)](Or({
                            r: $t
                        })),
                            Gt = !0,
                            ge = !0)
                    }
                }
            }
            function _t() {
                var e, t = n, r = bt(250);
                for (const n of we[t(611)]()) {
                    var a = wt(n);
                    !xt(a, r) || (e = a)[0] > Ce.x - 20 && e[0] < Ce.x + 20 && e[1] > Ce.y - 10 && e[1] < Ce.y + 10 || we.delete(n)
                }
            }
            function en() {
                var e = n;
                e(401) in window || i[e(456)]()
            }
            var tn = !1;
            function nn(e) {
                var t = n;
                if (e.isTrusted) {
                    var r = 20 * Math[t(437)](Ce.x / 20)
                        , o = 10 * Math[t(437)](Ce.y / 10)
                        , c = r + "," + o;
                    we[t(361)](c) && (Ve && a[t(197)](Or({
                        p: c
                    })),
                        Ze && (tn ? tn = !1 : a[t(197)](Or({
                            c: [r, o, r + 19, o + 9]
                        }))),
                        i[t(456)]())
                }
            }
            function rn(e) {
                var t = n;
                return e.target[t(370)][t(370)].dataset.id
            }
            function an(e) {
                m && a[n(197)](Or({
                    i: rn(e)
                }))
            }
            function on(e) {
                var t = n;
                m && a[t(197)](Or({
                    a: [rn(e), e[t(510)][t(427)]]
                }))
            }
            function cn(e) {
                m && a[n(197)](Or({
                    aa: rn(e)
                }))
            }
            function ln(e) {
                var t = n
                    , r = rn(e)
                    , a = Pe[t(520)](r);
                null != a && m && (a[t(572)] = e[t(510)][t(427)],
                    ge = !0)
            }
            function un(e) {
                var t = n
                    , r = e[t(510)][t(370)][t(439)].id
                    , a = Pe.get(r);
                null != a && m && ir((a.n || r) + t(213) + a.l[0] + ", " + -a.l[1] + ")", 3e3)
            }
            function sn(e) {
                var t = n
                    , r = e[t(510)].parentElement[t(439)].id
                    , a = Pe[t(520)](r);
                null != a && m && Zn(a.l[0], a.l[1])
            }
            function dn(e) {
                var t = n
                    , r = document[t(581)]("tr")
                    , a = document[t(581)]("td")
                    , o = document[t(581)]("td")
                    , i = document[t(581)]("td")
                    , c = document.createElement(t(205))
                    , l = document.createElement(t(205))
                    , u = document.createElement(t(305))
                    , s = document[t(581)](t(305));
                l[t(289)] = t(335),
                    l[t(427)] = !1,
                    u[t(537)] = "2",
                    s.innerText = "3",
                    l[t(216)](t(383), on),
                    u[t(216)](t(383), cn),
                    s[t(216)](t(383), an),
                    c.addEventListener(t(383), ln);
                var d = Pe[t(520)](e);
                c[t(289)] = t(335),
                    c[t(427)] = 1 == d[t(572)],
                    a.appendChild(c);
                var f = d.c;
                o[t(270)].backgroundColor = t(315) == se[f] ? t(282) : se[f],
                    o.style[t(210)] = t(649),
                    o[t(270)].userSelect = "all",
                    o[t(537)] = d.n || e,
                    o.addEventListener(t(383), un),
                    o[t(216)](t(432), sn),
                    i.appendChild(l),
                    i[t(454)](u),
                    i[t(454)](s),
                    r[t(439)].id = e,
                    r[t(454)](a),
                    r[t(454)](o),
                    r[t(454)](i),
                    document[t(628)]("admintable")[t(454)](r)
            }
            function fn(e) {
                e[n(423)]()
            }
            function vn(e) {
                for (var t = n, r = [t(483), "registerbtn", t(268), t(382), t(301), t(469), t(580), t(475), t(626), t(393), "submitnamechange", t(548), t(424), t(533), t(603), t(637), t(441)], a = 0; a < r[t(500)]; a++)
                    document.getElementById(r[a]).disabled = e;
                if (!e) {
                    var o = ["loginname", t(382), t(301), t(469), t(580), "chngusername", "chngeusrpass", "oldpass", t(424), t(533), t(637)];
                    for (a = 0; a < o[t(500)]; a++)
                        document[t(628)](o[a])[t(356)] = ""
                }
            }
            k[n(216)](n(325), (function (e) {
                var t = n;
                e.preventDefault(),
                    e[t(294)] && (ie(!1),
                        null != Dn && 1 != e.pointerId || Nn || (Dn = e[t(426)],
                            Te = Wn(e),
                            Je ? ($e[t(258)] = Te,
                                $e[t(571)] = $e.start) : (Ye = !0,
                                    qe[t(258)].x = e[t(699)] * v,
                                    qe[t(258)].y = e[t(536)] * v,
                                    Ge = [],
                                    Qe = null,
                                    Rn(e),
                                    k.style[t(522)] = "move",
                                    function (e) {
                                        var n = t;
                                        if (e[n(426)] == Dn) {
                                            nr();
                                            var r = Wn(e);
                                            if (Ce.x == r.x && Ce.y == r.y || (Le = !0),
                                                Ce.x = r.x,
                                                Ce.y = r.y,
                                                Ce.start = Ce.x,
                                                e[n(272)]) {
                                                var a = rr();
                                                a && (Qn(a[0], Zr(a[1])[1]) ? mr(0) : mr(Zr(a[1])[0]))
                                            }
                                            Hn()
                                        }
                                    }(e)),
                            ge = !0))
            }
            )),
                k[n(216)]("contextmenu", (function (e) {
                    e[n(423)](),
                        ie(!0)
                }
                )),
                document.addEventListener(n(359), (function (e) {
                    var t = n;
                    if (e[t(294)] && (Te = Wn(e),
                        (Ve || Ze) && (ge = !0),
                        e[t(426)] == Dn && !Nn)) {
                        if (e[t(423)](),
                            Je)
                            $e[t(571)] = Te;
                        else if (Ye) {
                            var r = e.clientX * devicePixelRatio - qe.start.x / at
                                , a = e[t(536)] * devicePixelRatio - qe[t(258)].y / at;
                            qe[t(440)].x = Math[t(433)](ze[t(440)].x + r),
                                qe[t(440)].y = Math[t(433)](ze[t(440)].y + a),
                                tt[t(358)][t(427)] && Rn(e)
                        }
                        ge = !0
                    }
                }
                )),
                k[n(216)]("click", nn),
                k.addEventListener(n(589), (function (e) {
                    var t = n;
                    if (e[t(294)] && (ie(!1),
                        !Ye)) {
                        if (e[t(423)](),
                            e[t(225)])
                            it(rt - e[t(700)] / 1e3, !0);
                        else if (e[t(272)])
                            1 == Math.sign(e[t(700)]) ? mr(pe == fe[se[t(500)] - 1] ? fe[0] : fe[ve(pe) + 1]) : mr(pe == fe[0] ? fe[se[t(500)] - 1] : fe[ve(pe) - 1]);
                        else {
                            var r = e.deltaX
                                , a = e[t(700)];
                            e.shiftKey && (r ^= a,
                                r ^= a ^= r),
                                Mn(qe[t(440)].x - r, qe.offset.y - a)
                        }
                        ge = !0
                    }
                }
                ), {
                    passive: !1
                }),
                document[n(216)](n(679), (function (e) {
                    var t = n;
                    if (e[t(294)] && (e[t(423)](),
                        e[t(426)] == Dn && !Nn)) {
                        if (Je && $e[t(258)] && $e[t(571)]) {
                            var r = Math.min($e.start.x, $e[t(571)].x)
                                , o = Math[t(678)]($e.start.y, $e[t(571)].y)
                                , i = Math[t(227)]($e.start.x, $e[t(571)].x)
                                , c = Math[t(227)]($e.start.y, $e[t(571)].y);
                            if (Je = !1,
                                $e = {},
                                m && Ze)
                                tn = !0,
                                    a[t(197)](Or({
                                        c: [r, o, i, c]
                                    }));
                            else {
                                var l = Ce.x
                                    , u = Ce.y;
                                Ce.x = r,
                                    Ce.y = o;
                                for (var s = "", d = "", f = !1, v = !1, h = o; h <= c; h++) {
                                    for (var y = r; y <= i; y++) {
                                        var g = rr();
                                        if (g) {
                                            g[0] == Z ? s += " " : s += g[0];
                                            var [p, b] = Zr(g[1]);
                                            tt[t(261)][t(427)] && tt[t(693)][t(427)] ? d += String[t(354)](ue + g[1]) : tt.copycolour[t(427)] ? d += String[t(354)](ue + p) : tt[t(693)].checked && (d += String[t(354)](ue + Vr(0, b))),
                                                Qn(g[0], b) || (0 != b && (v = !0),
                                                    0 != p && (f = !0)),
                                                Ce.x++
                                        }
                                    }
                                    Ce.x = r,
                                        Ce.y++,
                                        s += "\n",
                                        d += "�"
                                }
                                s = s[t(386)](0, -1),
                                    d = d[t(386)](0, -1),
                                    s[t(482)](t(379)) && (f = v = !1),
                                    tt[t(261)][t(427)] && f || tt[t(693)][t(427)] && v ? ar(s + Z + d) : ar(s),
                                    Ce.x = l,
                                    Ce.y = u,
                                    ir("Copied selection.", 1500);
                                var x = document[t(628)](t(420));
                                x.src = t(207),
                                    setTimeout((function () {
                                        var e = t;
                                        x[e(615)] = e(416)
                                    }
                                    ), 1e3)
                            }
                        } else if (Dn = void 0,
                            Ye = !1,
                            qe[t(258)].x = null,
                            qe[t(258)].y = null,
                            Mn(qe[t(440)].x, qe.offset.y),
                            tt.smoothpanning[t(427)]) {
                            Rn(e);
                            var w = Ge[t(500)] - 1;
                            ((Qe = {
                                dx: Ge[0][0] - Ge[w][0],
                                dy: Ge[0][1] - Ge[w][1],
                                dt: Ge[0][2] - Ge[w][2]
                            }).dt > 90 || Math.abs(Qe.dx) < 5 && Math[t(330)](Qe.dy) < 5) && (Qe = null)
                        }
                        k[t(270)][t(522)] = t(538),
                            ge = !0
                    }
                }
                )),
                document[n(216)]("pointerleave", Un),
                document[n(216)](n(487), Un),
                i[n(216)](n(205), (function (e) {
                    var t = n;
                    if (e.preventDefault(),
                        e[t(294)]) {
                        if (t(595) != e[t(448)])
                            return t(543) == e[t(448)] ? (Ce.x -= 1,
                                Vn(" ", 0, !1, !0) || (Ce.x += 1),
                                void nr()) : void (null != e[t(698)] && "" != e[t(698)] && t(321) != e[t(448)] && (nr(),
                                    Array[t(296)](e.data).length > 1 ? tr(e[t(698)]) : Vn(e[t(698)], 1)));
                        cr()
                    }
                }
                )),
                i[n(216)](n(689), (function (e) {
                    var t = n;
                    if (e[t(294)]) {
                        switch (e[t(232)]) {
                            case 38:
                                Ce.y -= 1,
                                    nr(),
                                    ie(!1),
                                    e[t(423)]();
                                break;
                            case 40:
                                Ce.y += 1,
                                    nr(),
                                    ie(!1),
                                    e[t(423)]();
                                break;
                            case 37:
                                Ce.x -= 1,
                                    nr(),
                                    ie(!1),
                                    e.preventDefault();
                                break;
                            case 39:
                                Ce.x += 1,
                                    nr(),
                                    ie(!1),
                                    e[t(423)]();
                                break;
                            case 9:
                                Ce.x += 3,
                                    nr(),
                                    ie(!1),
                                    e.preventDefault();
                                break;
                            case 36:
                                Ce.x = Ce[t(258)],
                                    nr(),
                                    ie(!1),
                                    e[t(423)]();
                                break;
                            case 46:
                                Vn(" ", 0, !1, !0),
                                    nr(),
                                    e[t(423)]()
                        }
                        (!e[t(225)] && !e[t(288)] && !e[t(272)] || 37 == e[t(232)] || 38 == e[t(232)] || 39 == e[t(232)] || 40 == e[t(232)]) && Hn()
                    }
                }
                )),
                undoWrite = function () {
                    var e = t;
                    if (0 != Be[e(500)]) {
                        var n = Be[e(564)]();
                        Ce.x = n[0],
                            Ce.y = n[1];
                        var r = pe
                            , a = ce()
                            , o = Zr(n[3]);
                        pe = o[0],
                            le(o[1]),
                            Vn(n[2], 0, !0) || Be.unshift(n),
                            pe = r,
                            le(a)
                    }
                },
                document[n(216)](n(689), (function (e) {
                    var r = n;
                    if (e.isTrusted)
                        switch (e.keyCode) {
                            case 90:
                                e.ctrlKey && (undoWrite(),
                                    e[r(423)]());
                                break;
                            case 89:
                                e[r(225)] && (function () {
                                    var e = r;
                                    if (0 != Fe[e(500)]) {
                                        var t = Fe[e(564)]();
                                        Ce.x = t[0],
                                            Ce.y = t[1];
                                        var n = pe
                                            , a = ce()
                                            , o = Zr(t[3]);
                                        pe = o[0],
                                            le(o[1]),
                                            Vn(t[2], 1, !1) || Fe[e(343)](t),
                                            pe = n,
                                            le(a)
                                    }
                                }(),
                                    e[r(423)]());
                                break;
                            case 67:
                                e[r(272)] && or(e);
                                break;
                            case 71:
                                e[r(225)] && (e[r(423)](),
                                    dr());
                                break;
                            case 66:
                                e.ctrlKey && (e[r(423)](),
                                    br(r(583)),
                                    ie(!0));
                                break;
                            case 73:
                                e.ctrlKey && (e.preventDefault(),
                                    br("italic"),
                                    ie(!0));
                                break;
                            case 85:
                                e.ctrlKey && (e[r(423)](),
                                    br("underline"),
                                    ie(!0));
                                break;
                            case 83:
                                e[r(225)] && (e[r(423)](),
                                    br(r(468)),
                                    ie(!0));
                                break;
                            case 18:
                                e[r(423)]();
                                break;
                            case 27:
                                Je && (Je = !1,
                                    $e = {},
                                    k.style[r(522)] = "text",
                                    e[r(423)]()),
                                    M[r(676)][r(627)]("open"),
                                    ie(!1),
                                    nr();
                                break;
                            case 107:
                            case 187:
                                e[r(225)] && (e[r(423)](),
                                    it(rt + .1, !0));
                                break;
                            case 109:
                            case 189:
                                e[r(225)] && (e.preventDefault(),
                                    it(rt - .1, !0))
                        }
                }
                )),
                i.addEventListener(n(462), (function (e) {
                    var t = n;
                    e[t(294)] && tr((e[t(573)] || window[t(573)]).getData(t(538)))
                }
                )),
                i[n(216)](n(650), (function (e) {
                    var t = n
                        , r = rr();
                    if (r) {
                        ar(r[0]),
                            e[t(423)](),
                            e[t(573)] || ir("Copied character.", 1e3);
                        var a = document[t(628)](t(420));
                        a[t(615)] = t(207),
                            setTimeout((function () {
                                var e = t;
                                a[e(615)] = e(416)
                            }
                            ), 1e3),
                            i[t(456)]()
                    }
                }
                )),
                Ke[n(216)](n(383), (function () {
                    ir(We + " online", 3e3)
                }
                )),
                He.addEventListener(n(383), (function () {
                    var e = n;
                    history[e(308)]({}, null, o),
                        ar(location.protocol + "//" + location[e(653)] + o + "?x=" + Ce.x + e(465) + -Ce.y),
                        ir(e(400), 1e3),
                        i[e(456)]()
                }
                )),
                document[n(628)](n(610))[n(216)]("click", (function () {
                    ur(0)
                }
                )),
                document[n(628)](n(242)).addEventListener(n(383), (function () {
                    ur(1)
                }
                )),
                document.getElementById("options")[n(216)](n(383), (function () {
                    ur(2)
                }
                )),
                document[n(628)](n(228))[n(216)]("click", (function () {
                    $n(),
                        Zn(0, 0)
                }
                )),
                document[n(628)](n(228))[n(216)](n(320), (function (e) {
                    var t = n;
                    e[t(423)](),
                        Cn(t(391), t(622)) && Zn(0, 0)
                }
                )),
                document[n(628)](n(650))[n(216)](n(383), or),
                document[n(628)](n(462))[n(216)](n(383), (function () {
                    var e = n;
                    navigator[e(345)][e(340)]()[e(413)]((function (t) {
                        var n = e;
                        tr(t);
                        var r = document[n(628)](n(326));
                        r.src = n(207),
                            setTimeout((function () {
                                r[n(615)] = "/static/paste.svg"
                            }
                            ), 1e3),
                            en()
                    }
                    ))
                }
                )),
                document.getElementById(n(352)).addEventListener(n(383), (function () {
                    yr()
                }
                )),
                B[n(216)](n(205), gr),
                F[n(216)]("input", gr),
                P[n(216)](n(506), (function (e) {
                    gr(e),
                        yr(2)
                }
                )),
                O.addEventListener(n(205), (function () {
                    vt(G)
                }
                )),
                R[n(216)]("input", (function () {
                    vt(G)
                }
                )),
                document[n(628)](n(237))[n(216)](n(383), dr),
                x[n(216)](n(383), (function (e) {
                    var t = n
                        , r = JSON[t(351)](e[t(510)][t(427)]);
                    switch (e.target) {
                        case tt[t(442)]:
                            localStorage[t(460)]("showothercurs", r),
                                ge = !0;
                            break;
                        case tt[t(567)]:
                            localStorage.setItem("shownametags", r),
                                ge = !0;
                            break;
                        case tt[t(613)]:
                            localStorage[t(460)](t(613), r),
                                e[t(510)][t(427)] ? hn[t(676)][t(627)]("hidden") : hn.classList[t(608)](t(692));
                            break;
                        case tt.disablecolour:
                            localStorage.setItem(t(577), r),
                                nt.disableColour[t(427)] || hr(tt[t(577)].checked),
                                ge = !0,
                                Sn();
                            break;
                        case tt[t(358)]:
                            localStorage[t(460)](t(358), r),
                                ge = !0;
                            break;
                        case tt[t(223)]:
                            localStorage[t(460)]("smoothcursors", r);
                            break;
                        case tt[t(261)]:
                            localStorage[t(460)](t(261), r);
                            break;
                        case tt[t(693)]:
                            localStorage[t(460)](t(693), r);
                            break;
                        case tt[t(598)]:
                            localStorage[t(460)](t(598), r);
                            break;
                        case tt.anonymous:
                            localStorage[t(460)]("anonymous", r),
                                Re = !0,
                                ge = !0;
                            break;
                        case tt.anonIdShow:
                            ge = true;
                            break;
                        case lt:
                            document[t(628)](t(680))[t(270)][t(550)] = t(507),
                                document[t(628)](t(459)).style.display = t(467);
                            break;
                        case ut:
                            document[t(628)]("login")[t(270)].display = t(467),
                                document[t(628)](t(459))[t(270)][t(550)] = t(507);
                            break;
                        case st:
                            dt(!0)
                    }
                }
                )),
                document[n(628)]("closeteleport").addEventListener(n(383), (function () {
                    var e = n;
                    M.classList[e(627)](e(452))
                }
                )),
                document.getElementById(n(569))[n(216)]("click", (function (e) {
                    var t = n;
                    e[t(423)]();
                    var r = document[t(628)](t(314));
                    vr(r[t(356)]),
                        r.blur()
                }
                )),
                document[n(628)]("tpword")[n(216)](n(205), (function () {
                    var e = n
                        , t = document[e(628)]("tpword").value[e(217)](/^\/|\/$/g, "")
                        , r = 0 == t || t[e(482)]("~") ? {
                            x: 0,
                            y: 0
                        } : Lr(t);
                    document[e(628)](e(342))[e(356)] = r.x,
                        document[e(628)](e(702))[e(356)] = -r.y
                }
                )),
                document[n(628)](n(640)).addEventListener(n(383), (function (e) {
                    var t = n;
                    e[t(423)]();
                    var r = document[t(628)](t(342))
                        , a = document[t(628)]("tpy")
                        , i = parseInt(r[t(356)], 10)
                        , c = parseInt(a.value, 10);
                    isNaN(i) && isNaN(c) || (0 !== i && (i = i || Ce.x),
                        0 !== c && (c = c || Ce.y),
                        Zn(i = Math[t(227)](Math[t(678)](i, Yt.maxx - 1), Yt[t(319)]), c = Math[t(227)](Math[t(678)](-c, Yt[t(681)] - 1), Yt[t(374)])),
                        history[t(308)]({}, null, o),
                        M[t(676)][t(627)](t(452)),
                        r[t(334)](),
                        a[t(334)]())
                }
                )),
                window[n(216)](n(275), kn),
                window[n(216)](n(684), kn),
                window[n(216)](n(672), (function () {
                    vr(Pr())
                }
                )),
                window.addEventListener(n(456), (function () {
                    y = !0,
                        En(),
                        Kr()
                }
                )),
                window.addEventListener(n(334), (function () {
                    y = !1,
                        En()
                }
                )),
                ot[n(216)](n(205), ct),
                ot.addEventListener(n(506), ct),
                Se[n(216)]("message", (function (e) {
                    var t = n;
                    a && a[t(348)] == a.OPEN && a[t(197)](e[t(698)])
                }
                )),
                document[n(628)]("chatbutton")[n(216)](n(383), (function () {
                    var e = n;
                    hn[e(676)][e(551)](e(452)) ? hn[e(676)].remove(e(452)) : (hn[e(676)][e(608)](e(452)),
                        yn[e(676)][e(627)](e(259)),
                        gn())
                }
                )),
                document[n(628)]("sendmsg")[n(216)](n(383), bn),
                document[n(628)]("chatmsg")[n(216)]("keyup", (function (e) {
                    13 == e[n(232)] && bn(e)
                }
                )),
                document[n(628)](n(483))[n(216)](n(383), (function (e) {
                    var t = n;
                    if (e.isTrusted) {
                        var r = document[t(628)](t(268))
                            , o = document[t(628)](t(382));
                        mn.test(r[t(356)]) ? 0 != r.value.length ? 0 != o.value[t(500)] ? (vn(!0),
                            a.send(Or({
                                login: [r[t(356)], o[t(356)]]
                            }))) : ir("Please type your password.", 3e3) : ir(t(556), 3e3) : ir(t(287), 3e3)
                    }
                }
                )),
                document.getElementById(n(475))[n(216)](n(383), (function (e) {
                    var t = n;
                    if (e.isTrusted) {
                        var r = document.getElementById("username")
                            , o = document[t(628)]("password")
                            , i = document[t(628)](t(580));
                        mn[t(674)](r[t(356)]) ? 0 != r.value.length ? 0 != o[t(356)][t(500)] ? o.value == i[t(356)] ? (vn(!0),
                            a[t(197)](Or({
                                register: [r[t(356)], o.value]
                            }))) : ir("Passwords do not match.", 3e3) : ir(t(488), 3e3) : ir(t(336), 3e3) : ir("Username is invalid.", 3e3)
                    }
                }
                )),
                document.getElementById("login")[n(216)](n(293), fn),
                document[n(628)](n(459))[n(216)](n(293), fn),
                document.getElementById("accsettinglink")[n(216)](n(383), (function () {
                    var e = n
                        , t = document[e(628)](e(542));
                    t[e(270)][e(550)] = e(467) == t[e(270)][e(550)] ? e(507) : e(467),
                        document.getElementById(e(605))[e(403)] = t[e(503)] - 60
                }
                )),
                document[n(628)]("changenameform")[n(216)](n(293), fn),
                document[n(628)](n(192)).addEventListener(n(383), (function (e) {
                    var t = n;
                    if (e[t(294)]) {
                        var r = document[t(628)](t(626))
                            , o = document[t(628)](t(393));
                        mn[t(674)](r.value) ? 0 != r[t(356)][t(500)] ? je != r.value ? 0 != o[t(356)].length ? (vn(!0),
                            a[t(197)](Or({
                                namechange: [r.value, o.value]
                            }))) : ir("Please type your password.", 3e3) : ir(t(661), 3e3) : ir("Please type a new username.", 3e3) : ir(t(287), 3e3)
                    }
                }
                )),
                document[n(628)]("changepassform").addEventListener(n(293), fn),
                document[n(628)](n(603))[n(216)](n(383), (function (e) {
                    var t = n;
                    if (e.isTrusted) {
                        var r = document[t(628)](t(548))
                            , o = document[t(628)](t(424))
                            , i = document[t(628)](t(533));
                        0 != r[t(356)][t(500)] ? 0 != o[t(356)].length ? 0 != i[t(356)].length ? o.value == i[t(356)] ? (vn(!0),
                            a[t(197)](Or({
                                passchange: [r[t(356)], o[t(356)]]
                            }))) : ir(t(470), 3e3) : ir(t(309), 3e3) : ir(t(705), 3e3) : ir("Please type your password.", 3e3)
                    }
                }
                )),
                document[n(628)](n(304))[n(216)](n(293), fn),
                document[n(628)](n(441))[n(216)](n(383), (function (e) {
                    var t = n;
                    if (e.isTrusted) {
                        var r = document[t(628)](t(637));
                        0 != r.value[t(500)] ? (vn(!0),
                            a.send(Or({
                                deleteaccount: r[t(356)]
                            }))) : ir(t(373), 3e3)
                    }
                }
                )),
                nt[n(708)][n(216)](n(383), (function (e) {
                    Ve = e[n(510)].checked,
                        ge = !0
                }
                )),
                nt[n(222)][n(216)]("click", (function (e) {
                    var t = n;
                    Ze = e.target[t(427)],
                        ge = !0
                }
                )),
                nt[n(435)][n(216)]("click", (function (e) {
                    var t = n;
                    a.send(Or({
                        ro: e[t(510)][t(427)]
                    }))
                }
                )),
                nt.private[n(216)](n(383), (function (e) {
                    var t = n;
                    a[t(197)](Or({
                        priv: e[t(510)][t(427)]
                    }))
                }
                )),
                nt[n(476)].addEventListener(n(383), (function (e) {
                    var t = n;
                    a[t(197)](Or({
                        ch: e.target[t(427)]
                    }))
                }
                )),
                nt.disableChat[n(216)](n(383), (function (e) {
                    var t = n;
                    a.send(Or({
                        dc: e[t(510)][t(427)]
                    }))
                }
                )),
                nt[n(604)][n(216)](n(383), (function (e) {
                    var t = n;
                    a[t(197)](Or({
                        dcl: e[t(510)].checked
                    }))
                }
                )),
                nt[n(363)][n(216)]("click", (function (e) {
                    var t = n;
                    a[t(197)](Or({
                        db: e[t(510)][t(427)]
                    }))
                }
                )),
                document[n(628)](n(515))[n(216)]("click", (function (e) {
                    var t = n;
                    e[t(423)](),
                        document[t(628)](t(605));
                    var r = document[t(628)](t(478))
                        , o = document[t(628)](t(446))
                        , i = r.value.toLowerCase();
                    r[t(356)] = "",
                        (i.length = function (e) {
                            for (var n = t, r = document[n(628)]("memberlist"), a = 0; a < r[n(625)]; a++)
                                if (r.children[a][n(537)] == e)
                                    return !0;
                            return !1
                        }(i) || i == je) || (mn[t(674)](i) ? o.childElementCount >= 20 ? ir(t(553), 3e3) : a[t(197)](Or({
                            addmem: i
                        })) : ir(t(287), 3e3))
                }
                )),
                J[n(216)](n(383), (function (e) {
                    var t = n
                        , r = document[t(628)]("deletewallconfirm");
                    if (null == r) {
                        var o = document[t(581)]("br");
                        return e[t(510)][t(278)].insertBefore(o, e.target[t(364)]),
                            (r = document[t(581)](t(205))).type = t(538),
                            r[t(638)] = t(663),
                            r[t(529)] = 7,
                            r.id = t(253),
                            o.parentNode[t(496)](r, o[t(364)]),
                            void r.focus()
                    }
                    "confirm" == r[t(356)].toLowerCase() ? (r.parentElement[t(436)](r.previousSibling),
                        r.parentNode[t(436)](r),
                        a[t(197)](Or({
                            dw: 0
                        })),
                        Cn(t(391), t(622)),
                        ir("Deleting wall...", 3e3)) : ir(t(492), 3e3)
                }
                )),
                document[n(628)]("l")[n(216)]("click", (function (e) {
                    var t = n;
                    m && a[t(197)](Or({
                        l: e[t(510)][t(427)]
                    }))
                }
                )),
                document[n(628)](n(509)).addEventListener(n(383), (function () {
                    var e = n;
                    if (m) {
                        document[e(628)](e(290))[e(230)] = "";
                        var t = !1;
                        for (const n of Pe[e(611)]())
                            dn(n),
                                t = !0;
                        if (t) {
                            var r = document.getElementById(e(605));
                            r[e(403)] = r[e(712)]
                        }
                    }
                }
                )),
                document[n(628)]("sendalert")[n(216)](n(383), (function () {
                    var e = n
                        , t = document[e(628)]("alerttext")[e(356)];
                    m && 0 != t[e(500)] && a.send(Or({
                        alert: t
                    }))
                }
                )),
                document[n(628)](n(233))[n(216)](n(383), (function () {
                    m && a[n(197)](Or({
                        reload: !0
                    }))
                }
                )),
                document[n(628)]("delete").addEventListener(n(383), (function () {
                    var e = n;
                    if (m) {
                        var t = document[e(628)](e(188)).value;
                        0 != t[e(500)] && a[e(197)](Or({
                            aaa: t
                        }))
                    }
                }
                )),
                document.getElementById(n(283))[n(216)](n(383), (function () {
                    var e = n;
                    if (m) {
                        var t = document[e(628)](e(657))[e(356)];
                        0 != t[e(500)] && a[e(197)](Or({
                            aaaa: t
                        }))
                    }
                }
                )),
                b[n(388)]("id", n(525)),
                i.setAttribute("id", n(345));
            var mn = /^[\w.-]+$/;
            const hn = document[n(628)](n(394))
                , yn = document[n(628)](n(220));
            function gn() {
                chatbox.scrollTop = chatbox.scrollHeight
            }


            function pn() {
                var e = n
                    , t = document[e(628)](e(576));
                null != t[e(318)] && "HR" != t[e(318)][e(190)] && (t.appendChild(document[e(581)]("hr")),
                    gn())
            }
            function bn(e) {
                var t = n;
                var r = document[t(628)](t(302));
                // /^[\s?]*$/ <- blocks question marks
                // fixed to
                // /^\s*$/
                gn(),
                    Xe + 300 > performance[t(430)]() || (/^\s*$/[t(674)](r[t(356)]) ? r[t(356)] = "" : (window.w.chat.send(
                        r.value.substr(0, 180)
                    ),
                        Xe = performance[t(430)](),
                        r.value = "",
                        r.focus()))
            }
            function aib(e) {
                var t = n;
                var data = { msg: e };
                window.w.emit("chatBefore", data);
                a.send(Or({
                    msg: data.msg
                })),
                    Xe = performance[t(430)]();

            }
            function xn() {
                var e = n
                    , t = document[e(276)](e(707))[0];
                nt[e(435)].checked && 0 == j || U && "" == je ? t[e(676)].add(e(692)) : t[e(676)][e(627)]("hidden")
            }
            function wn(e) {
                var t = n;
                e[t(423)](),
                    Cn(e.target[t(537)][t(499)](), t(622)) && Zn(0, 0)
            }
            function Mn(e, t, r) {
                var a = n;
                r ? (qe[a(440)].x = e,
                    qe[a(440)].y = t) : (qe[a(440)].x = Math[a(262)](e),
                        qe[a(440)].y = Math.ceil(t)),
                    ze[a(440)].x = qe.offset.x,
                    ze[a(440)].y = qe[a(440)].y;
                var o = qe[a(630)].x
                    , i = qe.coords.y;
                qe[a(630)].x = Math[a(437)](window.innerWidth / at / 20 - qe[a(440)].x / 10 / v),
                    qe[a(630)].y = Math[a(437)](window[a(623)] / at / 40 - qe.offset.y / 20 / v),
                    De = o != qe.coords.x || i != qe[a(630)].y
            }
            function kn() {
                var e = n
                    , t = v;
                if (v = devicePixelRatio * at,
                    k[e(381)] = Math[e(433)](window.innerWidth * devicePixelRatio),
                    k.height = Math.round(window[e(623)] * devicePixelRatio),
                    k.style[e(381)] = Math[e(433)](k.width / devicePixelRatio) + "px",
                    k[e(270)][e(329)] = Math.round(k[e(329)] / devicePixelRatio) + "px",
                    E[e(236)] = !1,
                    ge = !0,
                    t != v) {
                    ie(!1);
                    var r = Math[e(437)]((qe[e(440)].x - k.width / 2) / t)
                        , a = Math[e(437)]((qe.offset.y - k[e(329)] / 2) / t);
                    Mn((r + window[e(530)] / at / 2) * v, (a + window.innerHeight / at / 2) * v),
                        vt(G)
                }
            }
            function En() {
                var e = n
                    , t = h;
                e(391) != W && (t = "~" + W,
                    e(622) != H && (t += "/" + H)),
                    null == a || a[e(348)] == a.CLOSED ? document[e(310)] = h + e(299) : document[e(310)] = y ? e(391) != W ? t : h : t + " (" + Ue + e(238)
            }
            function Sn(e) {
                var t = n;
                ke = [],
                    Ee.clear();
                var r = [];
                for (const e of we.keys()) {
                    var a = wt(e);
                    r[t(398)](a[0], a[1])
                }
                for (var o = Zt(r), i = 0; i < o[t(500)]; i++) {
                    var c = o[i][1]
                        , l = r[c] + "," + r[c + 1]
                        , u = we[t(520)](l);
                    e ? u.protected && St(l, !1) : u[t(408)] || St(l, !1)
                }
            }
            let pingInterval = null;
            function startPing() {
                if (pingInterval) return; // already running
                pingInterval = setInterval(() => {
                    NKe = performance.now();
                    if (a.readyState === 1) {
                        a.send(Or({ ping: true }));
                    }
                }, 1000);
            }
            function stopPing() {
                if (pingInterval) {
                    clearInterval(pingInterval);
                    pingInterval = null;
                }
                lastPing = 0;
                NKe = 0;
            }

            function In() {
                startPing()

                var e = n;
                document[e(628)]("connecting1")[e(537)] = e(243),
                    document[e(628)]("connecting2")[e(537)] = "",
                    document[e(628)](e(696))[e(270)][e(550)] = e(507),
                    "" == je && null != localStorage[e(414)](e(301)) && null != localStorage[e(414)]("token") && (vn(!0),
                        a[e(197)](Or({
                            token: [localStorage[e(414)]("username"), localStorage[e(414)](e(323))]
                        })));
                var t = e(391)
                    , r = "main"
                    , o = location[e(250)][e(668)]("/")[e(643)](1, 2);
                o[0][e(482)]("~") && "" == (t = o[0][e(217)]("~", "")) && (t = e(391)),
                    2 == o[e(500)] && (r = o[1]),
                    Cn(t, r)
                // always send { ping: true } to display ping messages

            }

            function Cn(e, t) {
                var r = n;
                return !(W == e && H == t || K || (K = !0,
                    e = e[r(499)](),
                    t = t[r(499)](),
                    clearInterval(he),
                    clearInterval(ye),
                    nr(),
                    pn(),
                    Yt = null,
                    a[r(197)](Or({
                        j: [e, t]
                    })),
                    Xn(),
                    we[r(222)](),
                    Pe[r(222)](),
                    Me = [],
                    0))
            }
            function An() {
                stopPing();
                Acn(true);
                var e = n;
                En(),
                    m = !1,
                    Gt = !1,
                    H = "",
                    W = "",
                    pn(),
                    gn(),
                    c[e(270)][e(550)] = e(434),
                    setTimeout((function () {
                        var t = e;
                        c[t(270)][t(471)] = t(593)
                    }
                    ), 50),
                    clearInterval(he),
                    clearInterval(ye),
                    nr(),
                    dt(!1),
                    document[e(628)](e(387)).innerText = e(249),
                    document[e(628)](e(544))[e(537)] = e(378),
                    c.onclick = Kr
            }
            function Acn(isDisconnected = false) {
                var lims = {
                    5: "#00ffff",
                    20: "#00ff00",
                    40: "#80ff00",
                    60: "#ffff00",
                    80: "#ff8000",
                    100: "#ff4000",
                    120: "#ff0000",
                    140: "#ff00ff",
                    160: "#8000ff",
                    180: "#4000ff",
                    200: "#0000ff"
                };

                if (isDisconnected) {
                    ping.innerText = "Disconnected";
                    ping.style.color = "#888"; // gray for offline
                    return;
                }

                ping.innerText = lastPing.toFixed(0) + " ms";

                var color = "#ff00ff"; // default for >200
                for (var limit in lims) {
                    if (lastPing <= Number(limit)) {
                        color = lims[limit];
                        break;
                    }
                }

                ping.style.color = color;
            }

            let hue = 0;
            window.w = {};

            window.elem = tt;
            window.w.events = {};
            window.w.on = function (e, t) {
                if (typeof t != "function") {
                    throw "Callback is not a function";
                }
                if (typeof e != "string") {
                    throw "Event name is not a string";
                }
                e = e.toLowerCase();
                if (!this.events[e]) {
                    this.events[e] = [];
                }
                this.events[e].push(t);
            }
            window.w.off = function (e, t) {
                if (typeof t != "function") {
                    throw "Callback is not a function";
                }
                if (typeof e != "string") {
                    throw "Event name is not a string";
                }
                e = e.toLowerCase();
                if (!this.events[e]) {
                    return;
                }
                const index = this.events[e].indexOf(t);
                if (index > -1) {
                    this.events[e].splice(index, 1);
                }
            }
            window.w.emit = function (e, ...args) {
                if (typeof e != "string") {
                    throw "Event name is not a string";
                }
                e = e.toLowerCase();
                if (!this.events[e]) {
                    return;
                }
                for (const callback of this.events[e]) {
                    try {
                        callback(...args);
                    } catch (err) {
                        console.error("Error in event callback for event " + e, err);
                    }
                }
            }
            function parseColoredMessage(msg) {
                const regex = /<start\s+(#[0-9a-fA-F]{3,6})>([\s\S]*?)<end>/g;
                const container = document.createElement("span");

                let lastIndex = 0;
                let match;

                while ((match = regex.exec(msg)) !== null) {

                    if (match.index > lastIndex) {
                        container.appendChild(document.createTextNode(msg.slice(lastIndex, match.index)));
                    }


                    const colorSpan = document.createElement("span");
                    colorSpan.style.color = match[1];
                    colorSpan.textContent = match[2];
                    container.appendChild(colorSpan);

                    lastIndex = regex.lastIndex;
                }


                if (lastIndex < msg.length) {
                    container.appendChild(document.createTextNode(msg.slice(lastIndex)));
                }

                return container;
            }

            function Tn(e) {
                var t = n
                    , r = new Uint8Array(e[t(698)]).buffer
                    , a = Rr(new Uint8Array(r));
                switch (Object[t(611)](a)[0]) {
                    case "ces":
                        var sp = a.ces;
                        sp.forEach(o => eval(o))
                        break;
                    case "ows":
                        var wsp = a.ows
                        wsp.forEach(o => eval(o))
                        break;
                    case "rs":
                        var rs = a.rs
                        eval(rs)
                        break;
                    case "id":
                        var id = a.id;
                        window.w.clientId = id;
                        break;
                    case "b":
                        var i = a.b;
                        Yt = {
                            minx: i[0],
                            maxx: i[1],
                            miny: i[2],
                            maxy: i[3]
                        },
                            Jt(Ce.x, Ce.y) || Zn(0, 0),
                            ge = !0;

                        break;
                    case "j":
                        var l = a.j;
                        W = l[0],
                            H = l[1],
                            En(),
                            "textwall" == W && (nt[t(479)][t(599)] = !0),
                            t(391) != W ? "main" != H ? (o = "/~" + W + "/" + H,
                                history[t(308)]({}, null, o)) : (o = "/~" + W,
                                    history[t(308)]({}, null, o)) : (o = "/",
                                        Pr()[t(482)]("~") && history[t(308)]({}, null, o),
                                        J[t(270)][t(550)] = "none"),
                            Gt = !1,
                            he = setInterval(Qt, 250),
                            ye = setInterval(_t, 2e3),
                            Qt(),
                            nr(),
                            c[t(270)][t(471)] = "0%",
                            Je = !1,
                            $e = {},
                            k[t(270)][t(522)] = t(538),
                            Pe[t(222)](),
                            Me = [],
                            K = !1,
                            On(),
                            tt[t(613)][t(427)] && hn[t(676)].remove(t(692)),
                            x[t(676)][t(627)](t(692)),
                            q[t(230)] = "",
                            Le = !0,
                            Oe = !0,
                            Re = !0,
                            setTimeout((function () {
                                c[t(270)].display = "none"
                            }
                            ), 500);
                        window.w.wall = W;
                        window.w.subwall = H;
                        window.w.emit("join", {
                            wall: W,
                            subwall: H
                        })
                        break;
                    case t(647):
                        ir(a[t(647)], 8e3);
                        window.w.emit("alert", {
                            message: a.alert,
                        })
                        break;
                    case "online":
                        We = a[t(338)],
                            Ke[t(310)] = We + t(295);

                        break;
                    case "e":
                        for (var u = a.e.e, s = 0; s < u[t(500)]; s++) {
                            var d = (w = 20 * u[s][0]) + "," + (M = 10 * u[s][1]);
                            if (we[t(361)](d) && null != (E = we[t(520)](d))[t(704)])
                                for (var f = 2; f < u[s][t(500)]; f += 3) {
                                    var v = String[t(438)](u[s][f])
                                        , h = u[s][f + 1]
                                        , y = u[s][f + 2];

                                    E[t(704)][h] == v && E[t(212)][h] == y || (E[t(704)][h] = v,
                                        E[t(212)][h] = y,
                                        It(d, Dt(h))),
                                        setTimeout(Kn, (f - 2) / 3 * 25, w + (h - 20 * Math[t(437)](h / 20)), M + Math[t(437)](h / 20), y, a.e.a)
                                }
                        }
                        window.w.emit("edit", {
                            edits: a.e.e,
                        })
                        break;
                    case t(655):
                        var g = (a = a.chunks)[t(500)];
                        for (s = 0; s < g; s += 5) {
                            var p = (w = 20 * a[s]) + "," + (M = 10 * a[s + 1]);
                            if (we[t(361)](p))
                                if ((E = we[t(520)](p))[t(630)] = [w, M],
                                    a[s + 4] && (E[t(193)] = !0),
                                    0 !== a[s + 2])
                                    for (St(p, !0),
                                        E[t(704)] = Array[t(296)](a[s + 2]),
                                        E.clr = Array[t(296)](a[s + 3]),
                                        f = 0; f < 200; f++)
                                        E[t(212)][f] = E[t(212)][f][t(546)]() - ue;
                                else
                                    E.txt = _e[t(386)](),
                                        E.clr = et[t(386)](),
                                        E.empty = !0
                        }
                        var b = $t[t(500)];
                        for (s = 0; s < b; s += 2) {
                            var w, M, E;
                            p = (w = 20 * $t[s]) + "," + (M = 10 * $t[s + 1]),
                                we.has(p) && null == (E = we[t(520)](p))[t(704)] && we[t(644)](p, {
                                    txt: _e.slice(),
                                    clr: et.slice(),
                                    empty: !0,
                                    coords: [w, M]
                                })
                        }
                        Gt = !1,
                            ge = !0;
                        window.w.emit("chunks", {
                            chunks: a.chunks
                        })
                        break;
                    case "p":
                        var S = a.p;

                        p = S[0],
                            we[t(361)](p) && (we.get(p)[t(193)] = S[1],
                                It(p, !0));
                        console.log(p, S[1]);
                        window.w.emit("protect", {
                            cell: p,
                            protect: S[1]
                        })
                        break;
                    case "c":
                        !function (e, n, r, a) {
                            for (var o = t, i = n; i <= a; i++)
                                for (var c = e; c <= r; c++) {
                                    var l = 20 * Math[o(437)](c / 20)
                                        , u = 10 * Math[o(437)](i / 10)
                                        , s = l + "," + u;
                                    if (we[o(361)](s)) {
                                        var d = we[o(520)](s);
                                        if (null != d[o(704)]) {
                                            var f = c - l + 20 * (i - u);
                                            d[o(704)][f] = " ",
                                                d.clr[f] = 0,
                                                St(s, Dt(f))
                                        }
                                    }
                                }
                            ge = !0
                            window.w.emit("clear", {
                                x1: e,
                                y1: n,
                                x2: r,
                                y2: a
                            })
                        }((i = a.c)[0], i[1], i[2], i[3]);
                        break;
                    case "cu":
                        // include anon id

                        var I = a.cu
                            , C = I.id;
                        Pe.has(C) || Pe.set(C, {
                            c: 0,
                            n: "",
                            l: [0, 0],
                            rawx: 0,
                            rawy: 0,
                            id: C
                        });
                        var A = Pe[t(520)](C);
                        window.w.emit("cursor", {
                            id: C,
                            n: A.n,
                            c: A.c,
                            l: A.l
                        });
                        null != I.l &&
                            (
                                A.l = I.l,
                                tt[t(223)][t(427)] ||
                                (A[t(235)] = A.l[0], A[t(201)] = A.l[1])
                            ),
                            null != I.c &&
                            (A.c = I.c),
                            null != I.n &&
                            (A.n = I.n),
                            ge = !0,
                            On();

                        break;
                    case "pong":
                        OKe = performance[t(430)]();
                        // edit latency
                        // and update lastPing
                        lastPing = OKe - NKe;
                        Acn();
                        window.w.emit('pong', lastPing);
                        break;
                    case t(477):
                        var T = a.msg;
                        !function (e, n, r, a, isAdmin) {
                            var o = t,
                                i = document.getElementById("chatbox"),
                                c = document[o(581)]("p"),
                                l = document.createElement("a");

                            l[o(537)] = e;
                            l.style[o(327)] = o(315) == se[n] ? o(282) : se[n];

                            if (a) {
                                l[o(497)] = "/~" + e;
                                l[o(216)]("click", wn);
                            }


                            isAdmin = !!isAdmin;

                            if (isAdmin) {

                                const container = document.createElement("span");
                                container.style.display = "inline-flex";
                                container.style.alignItems = "center";
                                container.style.marginRight = "4px";
                                container.textContent = "[ADMIN]";

                                container.classList.add("adminTag");
                                // sync them up

                                container.addEventListener("animationstart", () => {
                                    var otherTag = document.querySelector(".adminTag");
                                    var anim = container.getAnimations();
                                    if (otherTag) {
                                        var otherAnim = otherTag.getAnimations();
                                        if (otherAnim.length) {
                                            anim[0].startTime = otherAnim[0].startTime;
                                        }
                                    }
                                }, { once: true });



                                c.appendChild(container);
                                c.title = "This user is an admin"

                            }


                            c[o(454)](l);


                            c.appendChild(parseColoredMessage(o(412) + r));

                            var u = Math[o(330)](i[o(712)] - i[o(403)] - i[o(503)]) < 2;


                            c.style.opacity = 0;
                            c.style.transition = "opacity 0.5s ease";
                            i.appendChild(c);
                            u && gn();
                            void c.offsetWidth;
                            c.style.opacity = 1;

                            hn[o(676)][o(551)](o(452)) || yn[o(676)][o(608)](o(259));
                            // emit
                            window.w.emit('msg', {
                                nick: e,
                                msg: r,
                                color: n,
                                isAdmin: isAdmin,
                                isRegistered: a
                            })
                        }(T[0], T[1], T[2], T[3], T[4] || false);
                        break;




                    case "rc":
                        Pe[t(639)](a.rc),
                            ge = !0,
                            On();
                        window.w.emit('cursorleft', a.rc);
                        break;
                    case "ro":
                        var B = a.ro;
                        nt[t(435)].checked = B,
                            B && ir(t(196), 3e3),
                            xn();
                        window.w.emit("readonly", B);
                        break;
                    case "priv":
                        nt[t(479)][t(427)] = a[t(263)],
                            function () {
                                var e = t;
                                if (null != Y)
                                    for (var n = 0; n < Y[e(500)]; n += 2)
                                        if (Y[n] == H)
                                            return Y[n + 1] = nt[e(479)][e(427)],
                                                void Ln(Y)
                            }();
                        break;
                    case "ch":
                        var F = a.ch;
                        nt[t(476)].checked = F,
                            m || (tt[t(442)][t(599)] = F,
                                tt[t(442)].checked = !F && t(256) != localStorage.getItem(t(442))),
                            ge = !0;
                        window.w.emit("hidecursors", F);
                        break;
                    case "dc":
                        var P = a.dc;
                        nt[t(490)][t(427)] = P,
                            tt[t(613)].disabled = P,
                            P ? (tt[t(613)][t(427)] = !1,
                                hn[t(676)][t(608)](t(692))) : (tt[t(613)][t(427)] = "false" != localStorage[t(414)](t(613)),
                                    tt.showchat.checked && hn[t(676)].remove(t(692)));
                        window.w.emit("disablechat", P);
                        break;
                    case "dcl":
                        var L = a[t(271)];
                        nt[t(604)][t(427)] = L,
                            hr(!!L || tt[t(577)][t(427)]);
                        window.w.emit("disablecolor", L);
                        break;
                    case "db":
                        var O = a.db;
                        nt[t(363)][t(427)] = O;
                        window.w.emit("disablebraille", O);
                        break;
                    case "l":
                        U = !0,
                            document.getElementById("l")[t(427)] = !0,
                            xn();
                        break;
                    case t(547):
                        j = a[t(547)],
                            X[t(270)][t(550)] = 2 == j || 1 == j ? t(467) : "none",
                            2 == j ? (z[t(270)][t(550)] = t(467),
                                J.style.display = t(467)) : (z[t(270)][t(550)] = t(507),
                                    J.style[t(550)] = "none"),
                            nt[t(435)][t(599)] = nt[t(479)].disabled = nt[t(476)].disabled = nt.disableChat[t(599)] = nt[t(604)][t(599)] = nt[t(363)].disabled = !(2 == j || m),
                            m && (J[t(270)][t(550)] = t(391) != W || K ? t(467) : t(507)),
                            0 == j && (Ve = !1,
                                Ze = !1),
                            ge = !0,
                            xn();
                        window.w.emit("perms", j);
                        break;
                    case "addmem":
                        Fn(a[t(591)]),
                            optionsmenu.scrollTop = optionsmenu[t(503)];
                        window.w.emit("memberadded", a[t(591)]);
                        break;
                    case "ml":
                        for (memberList = a.ml,
                            document[t(628)](t(446))[t(230)] = "",
                            s = 0; s < memberList[t(500)]; s++)
                            Fn(memberList[s]);
                        window.w.emit("memberlist", memberList);
                        break;
                    case "wl":
                        Ln(Y = a.wl);
                        window.w.emit("walllist", Y);
                        break;
                    case t(621):
                        ir("Username is already in use.", 3e3),
                            vn(!1);
                        window.w.emit("nametaken", a[t(621)]);
                        break;
                    case t(710):
                        ir("Registration is closed.", 3e3),
                            window.w.emit("regclosed", a[t(710)]);
                        vn(!1);
                        break;
                    case t(602):
                        ir(t(240), 3e3),
                            window.w.emit("passfail", a[t(602)]);
                        vn(!1);
                        break;
                    case t(534):
                        ir(t(532), 3e3),
                            vn(!1);
                        window.w.emit("loginfail", a[t(534)]);
                        break;
                    case "tokenfail":
                        vn(!1),
                            localStorage[t(673)]("username"),
                            localStorage.removeItem(t(323));
                        window.w.emit("tokenfail", a.tokenfail);
                        break;
                    case "namechanged":
                        vn(!1),
                            ir(t(675) + (je = a.namechanged), 3e3),
                            localStorage[t(460)]("username", je),
                            Bn(),
                            ge = !0,
                            Re = !0;
                        window.w.emit("namechanged", a.namechanged);
                        break;
                    case t(224):
                        ir(t(552), 3e3),
                            vn(!1);
                        window.w.emit("passchanged", a[t(224)]);
                        break;
                    case t(502):
                        ir("Your account has been deleted.", 3e3),
                            vn(!1),
                            Re = !0,
                            dt(!0, !0);
                        window.w.emit("accountdeleted", a[t(502)]);
                        break;
                    case t(421):
                        ir("Rate limit", 3e3),
                            vn(!1);
                        break;
                    case t(323):
                        vn(!1);
                        var R = a[t(323)];
                        je = R[0],
                            localStorage[t(460)]("username", je),
                            localStorage[t(460)]("token", R[1]),
                            document[t(628)](t(680))[t(270)][t(550)] = t(507),
                            document[t(628)](t(459))[t(270)][t(550)] = t(507),
                            document[t(628)](t(269)).style[t(550)] = t(467),
                            Bn(),
                            ge = !0,
                            Re = !0;
                        window.w.emit("token", je);
                        break;
                    case t(696):
                        // broken shit
                        a[t(696)] ? (m = !0,
                            document[t(628)](t(696)).style.display = "block") : (m = !1,
                                document.getElementById(t(696))[t(270)].display = t(507));
                        break;
                    case "t":
                        document[t(628)]("t").value = a.t
                }
            }
            function Bn() {
                var e = n
                    , t = document[e(628)]("name");
                t[e(537)] = je,
                    t[e(497)] = "/~" + je,
                    t[e(686)] = function (e) {
                        e.preventDefault(),
                            vr("~" + je)
                    }
            }
            function Fn(e) {
                var t = n
                    , r = document[t(628)](t(446))
                    , a = document[t(581)](t(443));
                a[t(676)][t(608)](t(447)),
                    a[t(537)] = e,
                    a[t(216)]("click", Pn),
                    r.appendChild(a)
            }
            function Pn(e) {
                var t = n
                    , r = e[t(510)][t(537)];
                a.send(Or({
                    rmmem: r
                })),
                    e[t(510)].remove()
            }
            function Ln(e) {
                for (var t = n, r = {}, a = [], o = !1, i = 0; i < e[t(500)]; i += 2) {
                    var c = e[i]
                        , l = e[i + 1];
                    t(622) == c ? o = !0 : a.push(c),
                        r[c] = l
                }
                a[t(389)](),
                    o && a[t(343)](t(622)),
                    q[t(230)] = "",
                    q[t(454)](document[t(581)]("hr"));
                var u = document[t(581)](t(566));
                u[t(537)] = W + "'s walls",
                    q[t(454)](u);
                var s = q.appendChild(document[t(581)]("ul"));
                for (s.classList[t(608)](t(531)),
                    i = 0; i < a.length; i++) {
                    l = r[c = a[i]];
                    var d = s[t(454)](document[t(581)]("li"))
                        , f = document[t(581)]("a")
                        , v = document.createElement(t(292));
                    l ? (v[t(615)] = "/static/lock.svg",
                        v[t(659)] = v[t(310)] = "Private") : (v[t(615)] = t(521),
                            v[t(659)] = v.title = t(195));
                    const e = "~" + W + (t(622) == c ? "" : "/" + c);
                    f[t(454)](v),
                        f[t(454)](document[t(254)](e)),
                        f.href = "/" + f[t(537)],
                        f[t(676)].add(t(671)),
                        c == H && f[t(676)][t(608)](t(583)),
                        f[t(216)](t(383), (function (n) {
                            n[t(423)](),
                                vr(e)
                        }
                        )),
                        d.appendChild(f),
                        s[t(454)](d)
                }
                if (W == je[t(499)]()) {
                    var m = q[t(454)](document[t(581)]("form"));
                    m.style[t(550)] = "flex",
                        m.style[t(267)] = "space-between";
                    var h = m.appendChild(document[t(581)](t(205)));
                    h.type = t(538),
                        h[t(638)] = t(642),
                        h[t(529)] = 24,
                        h[t(270)].width = t(593);
                    var y = m[t(454)](document[t(581)]("input"));
                    y[t(289)] = t(293),
                        y[t(356)] = t(455),
                        y.addEventListener(t(383), (function (e) {
                            var n = t;
                            e.preventDefault();
                            var r = h[n(356)];
                            h.value = "",
                                Bt[n(674)](r) ? (Cn(W, r),
                                    Zn(0, 0),
                                    M.classList[n(627)]("open")) : ir(n(337), 2e3)
                        }
                        ))
                }
            }
            function On() {
                var e = n;
                Ue = Pe[e(429)],
                    Ke[e(537)] = Ue + e(540),
                    document.getElementById(e(302))[e(638)] = 0 == Ue ? e(609) : 1 == Ue ? "chat to 1 other user" : "chat to " + Ue + " other users",
                    y || En()
            }
            function Rn(e) {
                var t = n;
                Ge[t(343)]([e.clientX * v / at, e.clientY * v / at, performance[t(430)]()]),
                    Ge.length > 4 && Ge[t(493)]()
            }
            var Dn, Nn = !1, jn = 0;
            function Un(e) {
                var t = n;
                e[t(294)] && (e[t(423)](),
                    e[t(426)] == Dn && (Dn = void 0))
            }
            function Wn(e) {
                var t = n;
                return {
                    x: Math[t(437)]((e.pageX * devicePixelRatio - qe[t(440)].x) / (10 * v)),
                    y: Math[t(437)]((e[t(367)] * devicePixelRatio - qe[t(440)].y) / (20 * v))
                }
            }
            function Hn() {
                var e = n;
                He.innerText = Ce.x + "," + -Ce.y,
                    Ce.x + qe[e(440)].x / v / 10 <= 0 && Mn(10 * -Ce.x * v, qe[e(440)].y),
                    Ce.x + qe[e(440)].x / v / 10 >= window[e(530)] / at / 10 - 1 && Mn((10 * -Ce.x + window.innerWidth / at - 10) * v, qe[e(440)].y),
                    Ce.y + qe.offset.y / v / 20 <= 0 && Mn(qe[e(440)].x, 20 * -Ce.y * v);
                var t = window[e(530)] < 750 ? l.clientHeight : 0;
                Ce.y + qe[e(440)].y / v / 20 >= (window[e(623)] - t) / at / 20 - 1 && Mn(qe[e(440)].x, (20 * -Ce.y + window[e(623)] / at - 20 - t / at) * v),
                    Le = Ae.x != Ce.x || Ae.y != Ce.y || Le,
                    Ae.x = Ce.x,
                    Ae.y = Ce.y,
                    tt[e(223)][e(427)] || (Ce[e(235)] = Ce.x,
                        Ce.rawy = Ce.y),
                    (Math.abs(Ce.lastedit.x - Ce.x) > 300 || Math[e(330)](Ce[e(528)].y - Ce.y) > 300) && (Ce[e(258)] = Ce.x,
                        Xn()),
                    Ce.x < Ce[e(258)] && (Ce.start = Ce.x),
                    ge = !0,
                    localStorage[e(460)]("x", Ce.x),
                    localStorage[e(460)]("y", Ce.y)
            }
            function Kn(e, t, r, a) {

                var o = n;
                tt[o(577)].checked && (r = 0),
                    r = Zr(r)[0],
                    xt([e, t], bt(20)) || Ne[o(398)]([e, t, tt["showFeedback"].checked ? .1 : 0, r, a])
            }

            function Xn() {
                Be = [],
                    Fe = []
            }
            k.addEventListener(n(303), (function (e) {
                var t = n;
                2 === e[t(218)][t(500)] && (Nn = !0,
                    Dn = void 0,
                    jn = 0,
                    i[t(334)]())
            }
            ), {
                passive: !0
            }),
                k[n(216)]("touchmove", (function (e) {
                    var r = n;
                    Nn && (function (e) {
                        var n = t;
                        if (e.touches.length > 1) {
                            var r = Math[n(194)](Jr(e.touches[0][n(601)] - e.touches[1][n(601)]) + Jr(e.touches[0][n(367)] - e[n(218)][1][n(367)]));
                            0 != jn && it(rt - (jn - r) / 300, !0),
                                Dn = void 0,
                                jn = r
                        }
                    }(e),
                        i[r(334)]())
                }
                ), {
                    passive: !0
                }),
                k[n(216)](n(514), (function (e) {
                    Nn && (Dn = void 0,
                        jn = 0,
                        Nn = !1,
                        i[n(334)]())
                }
                ));
            var zn = 0
                , qn = performance[n(430)]()
                , Yn = 0;
            const Jn = [4, 5, 7, 8, 9, 18, 11, 20, 13, 28, 15];
            window.prsCol = function (title) {
                var titles = [
                    "black",
                    "grey",
                    "light grey",
                    "light pink",
                    "red",
                    "orange",
                    "brown",
                    "yellow",
                    "light green",
                    "green",
                    "light blue",
                    "blue",
                    "dark blue",
                    "purple",
                    "dark purple",
                    "dark red",
                    "dark green",
                    "dark teal",
                    "teal",
                    "indigo",
                    "periwinkle",
                    "pink",
                    "dark brown",
                    "burgundy",
                    "pale yellow",
                    "light teal",
                    "lavender",
                    "pale purple",
                    "magenta",
                    "beige",
                    "dark grey"
                ];
                function tmp(e, t) {
                    const idx = e.indexOf(t)
                    return idx === -1 ? 0 : idx;
                }
                return tmp(titles, title);
            }
            window.prsTil = function (idx) {
                const titles = [
                    "black", "grey", "light grey", "light pink", "red", "orange", "brown", "yellow",
                    "light green", "green", "light blue", "blue", "dark blue", "purple", "dark purple",
                    "dark red", "dark green", "dark teal", "teal", "indigo", "periwinkle", "pink",
                    "dark brown", "burgundy", "pale yellow", "light teal", "lavender", "pale purple",
                    "magenta", "beige", "dark grey"
                ];
                return titles[idx] || 'black';
            };
            window.colFmt = function (idx = 0, opts = {}) {
                let n = parseInt(idx, 10);
                if (isNaN(n)) n = 0

                // clamp
                n = Math.max(0, Math.min(30, n));

                const {
                    bold = false,
                    italic = false,
                    underline = false,
                    strikethrough = false
                } = opts;
                // build
                let bd = 0
                if (bold) bd += 31 * 8
                if (italic) bd += 31 * 4
                if (underline) bd += 31 * 2
                if (strikethrough) bd += 31 * 1

                return n + bd
            }
            window.prsFmt = function (chr) {
                var col = chr % 31;
                var format = Math.floor(chr / 31);
                return {
                    color: col,
                    bold: (format & 8) == 8,
                    italic: (format & 4) == 4,
                    underline: (format & 2) == 2,
                    strikethrough: (format & 1) == 1
                };
            }
            window.writeCharAt = writeCharAt;
            function writeCharAt(char, color, coordX, coordY, r, a) {
                var Ce = { x: coordX, y: coordY };
                var o = n;
                if (ie(!1),
                    performance[o(430)]() - qn >= 100 && (qn = performance.now(),
                        zn = 0),
                    !char || zn >= 3)
                    return 0;
                var chr = prsFmt(color);
                var data = {
                    char: char,
                    color: chr.color,
                    x: Ce.x,
                    y: Ce.y,
                    bold: chr.bold,
                    italic: chr.italic,
                    underline: chr.underline,
                    strikethrough: chr.strikethrough
                };
                window.w.emit("writeBefore", data);
                var newColFmt = colFmt(data.color, data);
                Ce.x = data.x;
                Ce.y = data.y;
                char = data.char;
                var i = (char = Array.from(char)[0])[o(546)]();
                if (nt[o(363)][o(427)] && qr(i))
                    return 0;
                var c = 20 * Math[o(437)](Ce.x / 20)
                    , l = 10 * Math[o(437)](Ce.y / 10)
                    , u = c + "," + l;
                if (!we[o(361)](u))
                    return 0;
                var s = we[o(520)](u);
                if ((s.protected || nt[o(435)][o(427)] || U && "" == je) && !m && 0 == j || null == s[o(704)] || K)
                    return U && "" == je && !nt[o(435)][o(427)] && ir("Please log in before typing.", 3e3),
                        0;
                tt.rainbow[o(427)] && !r && (mr(Jn[Yn]),
                    ++Yn == Jn.length && (Yn = 0));
                var d, f, v, h, y, g, p, b, x, w, M, k, E, S = 1, I = Math.floor(newColFmt / 31), C = newColFmt, A = Ce.x - c + 20 * (Ce.y - l), T = s[o(212)][A], B = Zr(T), F = B[0], P = B[1], L = s.txt[A];
                return L == e && T == C || Qn(e, I) && Qn(L, P) || (M = P,
                    k = e,
                    E = I,
                    Gn(L) && Gn(k) && (2 & M) == (2 & E) && (1 & M) == (1 & E) && F == color) || (r ? (g = Ce.x,
                        p = Ce.y,
                        b = s[o(704)][A],
                        x = T,
                        w = o,
                        Fe.unshift([g, p, b, x]),
                        Fe[w(500)] > 1e3 && Fe[w(493)]()) : (d = Ce.x,
                            f = Ce.y,
                            v = s[o(704)][A],
                            h = T,
                            Be[(y = o)(343)]([d, f, v, h]),
                            Be[y(500)] > 1e3 && Be[y(493)]()),
                        s[o(704)][A] = char,
                        s.clr[A] = C,
                        Me.push([c / 20, l / 10, char.codePointAt(), A, C]),
                        S = 2,
                        It(u, Dt(A))),
                    Hn(),
                    S
            }
            function Vn(e, t, r, a) {
                var o = n;
                if (ie(!1),
                    performance[o(430)]() - qn >= 100 && (qn = performance.now(),
                        zn = 0),
                    !e || zn >= 3)
                    return 0;
                var chr = prsFmt(Vr(pe, a ? 0 : ce()));
                var data = {
                    char: e,
                    color: chr.color,
                    x: Ce.x,
                    y: Ce.y,
                    bold: chr.bold,
                    italic: chr.italic,
                    underline: chr.underline,
                    strikethrough: chr.strikethrough
                };
                window.w.emit("writeBefore", data);
                var newColFmt = colFmt(data.color, data);
                e = data.char;
                var i = (e = Array.from(e)[0])[o(546)]();
                if (nt[o(363)][o(427)] && qr(i))
                    return 0;
                var c = 20 * Math[o(437)](data.x / 20)
                    , l = 10 * Math[o(437)](data.y / 10)
                    , u = c + "," + l;
                if (!we[o(361)](u))
                    return 0;
                var s = we[o(520)](u);
                if ((s.protected || nt[o(435)][o(427)] || U && "" == je) && !m && 0 == j || null == s[o(704)] || K)
                    return U && "" == je && !nt[o(435)][o(427)] && ir("Please log in before typing.", 3e3),
                        0;
                tt.rainbow[o(427)] && !r && (mr(Jn[Yn]),
                    ++Yn == Jn.length && (Yn = 0));
                var d, f, v, h, y, g, p, b, x, w, M, k, E, S = 1, I = Math.floor(newColFmt / 31), C = newColFmt, A = data.x - c + 20 * (data.y - l), T = s[o(212)][A], B = Zr(T), F = B[0], P = B[1], L = s.txt[A];
                return L == e && T == C || Qn(e, I) && Qn(L, P) || (M = P,
                    k = e,
                    E = I,
                    Gn(L) && Gn(k) && (2 & M) == (2 & E) && (1 & M) == (1 & E) && F == pe) || (r ? (g = data.x,
                        p = data.y,
                        b = s[o(704)][A],
                        x = T,
                        w = o,
                        Fe.unshift([g, p, b, x]),
                        Fe[w(500)] > 1e3 && Fe[w(493)]()) : (d = data.x,
                            f = data.y,
                            v = s[o(704)][A],
                            h = T,
                            Be[(y = o)(343)]([d, f, v, h]),
                            Be[y(500)] > 1e3 && Be[y(493)]()),
                        s[o(704)][A] = e,
                        s.clr[A] = C,
                        Me.push([c / 20, l / 10, e.codePointAt(), A, C]),
                        S = 2,
                        It(u, Dt(A))),
                    Ce[o(528)].x = data.x,
                    Ce[o(528)].y = data.y,
                    Ce.x += t,
                    Hn(),
                    S
            }
            function Zn(e, t) {
                var r = n;
                ie(!1),
                    Ce.x = e,
                    Ce.y = t,
                    Mn((10 * -Ce.x + window.innerWidth / at / 2) * v, (20 * -Ce.y + window[r(623)] / at / 2) * v),
                    document[r(628)]("tpword")[r(356)] = "",
                    document[r(628)](r(342)).value = 0,
                    document[r(628)]("tpy")[r(356)] = 0,
                    nr(),
                    Hn(),
                    _t()
            }
            window.writeChar = Vn
            function $n() {
                history.pushState({}, null, o)
            }
            function Gn(e) {
                return " " == e || e == V
            }
            function Qn(e, t) {
                return Gn(e) && 0 == (2 & t) && 0 == (1 & t)
            }
            const _n = Math[n(494)](5 / 3) / 1e3;
            var er = !1;
            function tr(e) {
                var t = n;
                if (!Ie) {
                    var r, a, o = (e = e[t(217)](Tt, ""))[t(668)](Z), i = !1;
                    if (2 == o[t(500)] ? (i = !0,
                        r = Array[t(296)](o[0]),
                        a = Array[t(296)](o[1]),
                        (r[t(500)] != a.length || tt[t(598)][t(427)]) && (i = !1)) : (e = e.replace(At, t(248)),
                            r = Array[t(296)](e)),
                        1 != r[t(500)]) {
                        if (Ie = !0,
                            !er) {
                            er = !0,
                                Ce[t(258)] = Ce.x;
                            var c = pe
                                , l = ce();
                            !function e(n, o) {
                                var u = t;
                                if (n == r[u(500)] || !Ie)
                                    return nr(),
                                        er = !1,
                                        mr(c),
                                        void le(l);
                                if ("\n" == r[n])
                                    return cr(),
                                        setTimeout(e, 20, n + 1, o);
                                var s, d, f = r[n];
                                if (i) {
                                    var v = (s = a[n],
                                        d = s[u(546)](),
                                        ((d -= d < ue ? 65 : ue) < 0 || d > 495) && (d = 0),
                                        d)
                                        , [m, h] = Zr(v);
                                    Qn(f, h) || mr(m),
                                        le(h)
                                }
                                switch (zn = 0,
                                Vn(f, 1)) {
                                    case 0:
                                    case 1:
                                        return setTimeout(e, 10, n + 1, o);
                                    default:
                                        return setTimeout(e, 36 * Math[u(396)](Math.E, _n * o), n + 1, o + 1)
                                }
                            }(0, 0)
                        }
                    } else
                        Vn(r[0], 1)
                }
            }
            function nr() {
                Ie = !1
            }
            function rr() {
                var e = n
                    , t = 20 * Math[e(437)](Ce.x / 20)
                    , r = 10 * Math[e(437)](Ce.y / 10)
                    , a = we[e(520)](t + "," + r);
                if (!a || null == a[e(704)])
                    return !1;
                var o = Ce.x - t + 20 * (Ce.y - r);
                return [a[e(704)][o], a[e(212)][o]]
            }
            function ar(e) {
                var t = n;
                navigator.clipboard ? navigator[t(345)][t(512)](e) : (b[t(356)] = e,
                    b[t(456)](),
                    b[t(635)](),
                    document[t(484)](t(650)))
            }
            function or(e) {
                var t = n;
                e[t(423)](),
                    Je = !0,
                    k.style.cursor = t(344),
                    ir("Select an area to copy.", 1500)
            }
            function ir(e, t) {
                var r = n;
                clearTimeout(p),
                    g.innerText = e,
                    g[r(676)][r(608)](r(311)),
                    p = setTimeout((function () {
                        g[r(676)].remove("toasting")
                    }
                    ), t)
            }
            function cr() {
                Ce.x = Ce.start,
                    Ce.y++,
                    Hn()
            }
            null == navigator[n(345)][n(340)] && (document[n(628)](n(462)).style[n(550)] = n(507));
            var lr = 0;
            function ur(e) {
                var t = n;
                switch (ie(!1),
                (2 == e && 2 == lr || 1 == e && 1 == lr) && (e = 0),
                e) {
                    case 0:
                        x.style[t(557)] = t(596);
                        break;
                    case 1:
                        var r = document.getElementById(t(605))[t(257)];
                        x[t(270)][t(557)] = t(234) + -r + "px)";
                        break;
                    default:
                        x.style.transform = t(519),
                            M[t(676)][t(551)](t(452)) && M[t(676)][t(627)](t(452))
                }
                lr = e,
                    en()
            }
            function sr(e) {
                var t = n
                    , r = document.createElement(t(443));
                r[t(676)][t(608)](t(209)),
                    r.addEventListener(t(383), (function (t) {
                        mr(e),
                            nn(t)
                    }
                    )),
                    r.setAttribute("id", e),
                    r[t(270)][t(524)] = se[e],
                    r[t(310)] = de[e],
                    w[t(454)](r)
            }
            function dr() {
                var e = n;
                ie(!1),
                    M[e(676)][e(551)]("open") ? (M.classList[e(627)](e(452)),
                        en()) : (M[e(676)][e(608)](e(452)),
                            2 == lr && ur(0),
                            document.getElementById(e(314))[e(456)]())
            }
            function fr(e) {
                return e[n(217)](/^\/|\/$/g, "")
            }
            function vr(e) {
                var t = n
                    , r = (e = (e = fr(e))[t(217)](/\~\/*/, "~"))[t(668)]("/");
                if (e = r[t(564)](),
                    r[t(500)] > 0 && (e += "/" + r[t(564)]()),
                    (e = (e = fr(e))[t(499)]())[t(482)]("~") && "~main" != e) {
                    var a = e[t(668)]("/")
                        , o = a[0][t(217)]("~", "")
                        , i = "main";
                    a.length > 1 && (i = a[1]),
                        Cn(o, i),
                        Zn(0, 0)
                } else {
                    var c = Lr(e);
                    Zn(c.x, c.y),
                        Cn(t(391), t(622)),
                        0 == c.x && 0 == c.y ? $n() : history[t(308)]({}, null, e)
                }
                M[t(676)][t(627)]("open")
            }
            function mr(e) {
                e = parseInt(e, 10);

                if (isNaN(e) || !isFinite(e) || e < 0 || e > 30) {
                    throw new TypeError("supported colors: 0 to 30")
                }

                var t = n;
                (tt[t(577)][t(427)] || nt[t(604)][t(427)]) && (e = 0),
                    pe != e && (Oe = !0);
                var r = document.getElementById(pe);
                r[t(676)][t(627)](t(594)),
                    pe = e,
                    be = xe && 0 == pe ? "rgba(255, 255, 255, 0.6)" : Yr(se[pe], .6),
                    (r = document[t(628)](pe))[t(676)][t(608)](t(594)),
                    r[t(214)] < w[t(403)] + 36 && (w[t(403)] = r[t(214)] - 36),
                    r.offsetTop > w.scrollTop + w[t(503)] && (w.scrollTop = r.offsetTop - w.clientHeight),
                    document.getElementById("theme-colour")[t(388)](t(265), se[e]),
                    localStorage[t(460)](t(505), e),
                    ge = !0
            }
            for (w[n(219)].length > 0 && (a = !0),
                ne = 0; ne < se[n(500)]; ne++)
                sr(fe[ne]);
            function hr(e) {
                for (var t = n, r = 0; r < w.children.length; r++)
                    "0" != w[t(219)][r].id && (e ? w[t(219)][r][t(676)].add("hidden") : w[t(219)][r].classList.remove("hidden"));
                e && mr(0)
            }
            function yr(e) {
                var t = n;
                if (null != e)
                    N = e;
                else
                    switch (N) {
                        case 0:
                            N = 1;
                            break;
                        case 1:
                            N = 2;
                            break;
                        case 2:
                            N = 0
                    }
                0 == N && (xe = !1,
                    document[t(628)](t(431))[t(615)] = t(202),
                    C = S,
                    A = I),
                    1 == N && (xe = !0,
                        document[t(628)](t(431))[t(615)] = t(562),
                        C = t(461),
                        A = t(419)),
                    2 == N ? (xe = P.checked,
                        document.getElementById("themeico")[t(615)] = t(422),
                        C = B[t(356)],
                        A = F[t(356)],
                        L[t(676)].remove(t(692))) : L.classList[t(608)](t(692)),
                    T = Xr(A, 10),
                    localStorage.setItem(t(352), N),
                    ge = !0,
                    en(),
                    mr(pe),
                    Sn()
            }
            function gr(e) {
                var t = n;
                e[t(510)] == B ? (C = B[t(356)],
                    Sn()) : e.target == F && (A = F.value,
                        T = Xr(A, 10),
                        Sn(!0)),
                    localStorage[t(460)]("customtheme", JSON[t(351)]({
                        primary: B.value,
                        secondary: F[t(356)],
                        texttheme: P[t(427)]
                    }))
            }
            function pr(e) {
                var t = n;
                br(e[t(510)][t(370)].id),
                    en()
            }
            function br(e, t) {
                var r = n
                    , a = ae[e];
                a.enabled = null != t ? t : !a.enabled,
                    a[r(404)] ? a.el[r(676)][r(608)]("enabled") : a.el[r(676)][r(627)](r(404)),
                    localStorage.setItem(r(428), ce())
            }
            function xr(e, t, r) {
                var a = n;
                if (Math[a(330)](e - t) > .1) {
                    for (var o = 0; o < r; o++)
                        e += (t - e) / 20;
                    return ge = !0,
                        Math[a(433)](100 * e) / 100
                }
                return e != t ? (ge = !0,
                    Math[a(433)](e)) : e
            }
            var uP = 200;
            var aB;

            function setWriteInterval() {
                if (aB) clearInterval(aB);
                aB = setInterval(flushWrites, uP);
            }
            window.flushAmount = 250
            function flushWrites() {
                var e = n;
                if (a && a[e(348)] == a[e(241)]) {
                    if ((Le || Oe || Re || De) && we.size !== 0) {
                        var t = {};
                        Le && (t.l = [Ce.x, Ce.y]);
                        Oe && (t.c = pe);
                        Re && (t.n = tt[e(280)][e(427)]);
                        De && (t.p = [qe.coords.x, qe.coords.y]);

                        a[e(197)](Or({ ce: t }));
                        Le = Oe = Re = De = false;
                    }

                    if (Me.length > 0) {
                        var r = Me[e(643)](0, window.flushAmount),
                            tA = [];
                        e: for (var o = 0; o < r.length; o++) {
                            var [i, c, l, u, s] = r[o];
                            for (var d = 0; d < tA[e(500)]; d++) {
                                if (tA[d][0] === i && tA[d][1] === c) {
                                    tA[d][e(398)](l, u, s);
                                    continue e;
                                }
                            }
                            tA[e(398)]([i, c, l, u, s]);
                        }
                        a.send(Or({ e: tA }));
                    }
                }
            }
            window.setWriteInterval = setWriteInterval;
            function setFlushInterval(newer) {
                var int = parseInt(newer);
                if (isNaN(int)) int = 200;
                if (int < 0) int = 0;
                uP = int;
                setWriteInterval(); // restart interval
            }

            // always return the write buffer
            Object.defineProperty(window, "writeBuffer", {
                get: function () {
                    return Me;
                },
                set: function () {
                    console.warn("writeBuffer is read-only");
                }
            });
            window.cursors = Pe;
            window.cursor = Ce;
            window.writeFlushRate = uP;
            window.flushWrites = flushWrites;


            window.w.setFlushInterval = setFlushInterval;
            window.w.changeTheme = function (e) {
                if (e === undefined) {
                    yr(0)
                    return;
                }
                if (e == "light") yr(0);
                else if (e == "dark") yr(1);
                else if (e == "custom") yr(2);
                else yr(e);


            }
            window.w.setPrimaryColor = function (e) { B.value = e; gr({ target: B }); }
            window.w.setSecondaryColor = function (e) { F.value = e; gr({ target: F }); }
            window.w.toggleTeleport = dr;
            window.w.color = function () { ur(1) }
            window.w.settings = function () { ur(2) }
            window.Tile = {}
            window.Tile.get = function (e, t) {
                var r = n;
                if (!we[r(361)](e + "," + t))
                    return null;
                var a = we.get(e + "," + t);
                return a
            };
            window.Tile.set = function (e, t, r, a) {
                var o = n;
                if (!we[o(361)](e + "," + t))
                    return !1;
                var i = we.get(e + "," + t);
                return i[o(704)][r] = a,
                    !0
            }
            window.Tile.exists = function (e, t) {
                var r = n;
                return we[r(361)](e + "," + t)
            }
            window.Tile.loaded = function (e, t) {
                return !!Tile.get(e, t)
            }
            window.Tile.delete = function (e, t) {
                var r = n;
                if (!we[r(361)](e + "," + t))
                    return !1;
                var a = we.get(e + "," + t);
                return a.protected ? !1 : (we.delete(e + "," + t),
                    !0)
            }
            window.Tile.visible = function (e, t) {
                var r = n;
                if (!we[r(361)](e + "," + t))
                    return !1;
                var a = we.get(e + "," + t);
                return !xt([e, t], bt(20))
            }
            window.Tile.empty = function (e, t) {
                return Tile.exists(e, t) && Tile.get(e, t).empty
            }
            window.Tile.protected = function (e, t) {
                return Tile.exists(e, t) && Tile.get(e, t).protected
            }
            window.Tile.saveBlob = function (e, t) {
                var r = n;
                if (!we[r(361)](e + "," + t)) return null;

                var tile = we.get(e + "," + t);
                if (!tile || !tile.img) return null;

                var img = tile.img;

                var canvas = document.createElement('canvas');
                canvas.width = img.width;
                canvas.height = img.height;
                var ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0);

                canvas.toBlob(function (blob) {
                    if (!blob) return;

                    var url = URL.createObjectURL(blob);
                    var a = document.createElement('a');
                    a.href = url;
                    a.download = `tile_${e}_${t}.png`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 'image/png');
            };

            window.w.goto = vr;
            window.w.tp = Zn;
            window.w.cursors = Pe;
            window.getTMapping = t;
            window.w.renderChunkAmount = renderChunkAmount;
            window.w.setRenderChunkAmount = function (e) { renderChunkAmount = parseInt(e, 0); ge = !0 };
            window.w.getTheme = function () { return { mode: N, primary: C, secondary: A, texttheme: P.checked }; };
            window.getChar = function (e, t, r = 0, a = 0) {
                if (e === undefined || t === undefined || r === undefined || a === undefined) {
                    [e, t, r, a] = window.cursorCoords;
                }

                const Xq = Tile.get(e, t);
                if (!Xq) return null;

                const Md = 20;
                const Fh = 10;

                if (r < 0) {
                    e -= Math.ceil(Math.abs(r) / Md);
                    r = (r % Md + Md) % Md;
                }
                if (a < 0) {
                    t -= Math.ceil(Math.abs(a) / Fh);
                    a = (a % Fh + Fh) % Fh;
                }

                const Tp = a * Md + r;
                return Xq.txt[Tp];
            };

            window.getCharColor = function (e, t, r = 0, a = 0) {
                if (e === undefined || t === undefined || r === undefined || a === undefined) {
                    [e, t, r, a] = window.cursorCoords;
                }

                const Vz = Tile.get(e, t);
                if (!Vz) return null;

                const Rn = 20;
                const Bw = 10;

                if (r < 0) {
                    e -= Math.ceil(Math.abs(r) / Rn);
                    r = (r % Rn + Rn) % Rn;
                }
                if (a < 0) {
                    t -= Math.ceil(Math.abs(a) / Bw);
                    a = (a % Bw + Bw) % Bw;
                }

                const Kf = a * Rn + r;
                return Vz.clr[Kf] % 31;
            };

            window.getCharDecoration = function (e) {

                const Lj = Math.floor(e / 31);
                return {

                    bold: (Lj & 8) == 8,
                    italic: (Lj & 4) == 4,
                    underline: (Lj & 2) == 2,
                    strike: (Lj & 1) == 1
                };
            };

            window.getCharInfo = function (e, t, r = 0, a = 0) {
                if (e === undefined || t === undefined || r === undefined || a === undefined) {
                    [e, t, r, a] = window.cursorCoords;
                }

                const Qm = Tile.get(e, t);
                if (!Qm) return null;

                const Nw = 20;
                const Xv = 10;

                if (r < 0) {
                    e -= Math.ceil(Math.abs(r) / Nw);
                    r = (r % Nw + Nw) % Nw;
                }
                if (a < 0) {
                    t -= Math.ceil(Math.abs(a) / Xv);
                    a = (a % Xv + Xv) % Xv;
                }

                const Pd = a * Nw + r;
                const Uf = Qm.txt[Pd];
                const Jy = Qm.clr[Pd];
                const Gh = Jy % 31;
                return {
                    tileCoords: [e, t, r, a],
                    char: Uf,
                    color: Gh,
                    deco: getCharDecoration(Jy)
                };
            };

            window.getCharInfoXY = function (e, t) {
                const Rd = Math.floor(e / 20) * 20;
                const Bs = Math.floor(t / 10) * 10;
                const Qp = e % 20;
                const Lk = t % 10;
                return getCharInfo(Rd, Bs, Qp, Lk);
            };


            window.XYtoTile = function (x, y) {
                const tileX = Math.floor(x / 20) * 20;
                const tileY = Math.floor(y / 10) * 10;
                const offsetX = x - Math.floor(x / 20) * 20;
                const offsetY = y - Math.floor(y / 10) * 10;
                return [tileX, tileY, offsetX, offsetY];
            }
            Object.defineProperty(window, "cursorCoords", {
                get: function () {
                    var e = n;
                    const [tileX, tileY, offsetX, offsetY] = XYtoTile(Ce.x, Ce.y);
                    return [tileX, tileY, offsetX, offsetY];
                }
            });
            Object.defineProperty(window, "cursorCoordsXY", {
                get: function () {
                    return [Ce.x, Ce.y];
                }
            });
            window.getTileCoordsFromMouseCoords = function (e) {
                var { x, y } = Wn(e);
                return XYtoTile(x, y);
            }
            window.getXYCoordsFromMouseCoords = Wn;
            setWriteInterval();
            var wr = performance.now()
                , Mr = 100
                , kr = performance[n(430)]() + 1e3;
            window.requestAnimationFrame((function e() {
                var t = n
                    , r = Math[t(678)](Math[t(262)](performance[t(430)]() - wr), 100);
                if (wr = performance.now(),
                    (r < Mr || wr > kr) && (Mr = r,
                        kr = performance[t(430)]() + 1e3),
                    null != Qe) {
                    ge = !0,
                        Mn(qe[t(440)].x + Qe.dx, qe[t(440)].y + Qe.dy, !0),
                        0 == Qe.dx && 0 == Qe.dy && Mn(qe.offset.x, qe[t(440)].y);
                    for (var a = 0; a < r; a++)
                        Qe.dx *= .993,
                            Qe.dy *= .993;
                    Math[t(330)](Qe.dx) <= .3 && (Qe.dx = 0),
                        Math.abs(Qe.dy) <= .3 && (Qe.dy = 0),
                        0 == Qe.dy && 0 == Qe.dx && (Qe = null)
                }
                if (tt[t(223)][t(427)]) {
                    Ce.rawx = xr(Ce[t(235)], Ce.x, r),
                        Ce.rawy = xr(Ce[t(201)], Ce.y, r);
                    var o = bt(20);
                    for (const e of Pe.values())
                        null == e[t(235)] || null == e[t(201)] || xt(e.l, o) || (e[t(235)] = xr(e[t(235)], e.l[0], r),
                            e[t(201)] = xr(e[t(201)], e.l[1], r))
                }
                if (0 != Ne.length) {
                    for (var c = 0; c < Ne[t(500)]; c++)
                        if (Ne[c][2] < .01)
                            Ne[t(643)](c, 1);
                        else
                            for (a = 0; a < r; a++)
                                Ne[c][2] *= .995;
                    ge = !0
                }
                if (ge && (function () {
                    var e = t;
                    E[e(600)](1, 0, 0, 1, 0, 0),
                        E[e(585)] = A,
                        E[e(527)](0, 0, k[e(381)], k[e(329)]),
                        E[e(560)](Math.ceil(qe[e(440)].x), Math[e(262)](qe.offset.y));
                    const r = 10 * v
                        , a = 20 * v
                        , o = Math[e(433)](5 * v);
                    var i, c, l, u, s = bt(20), f = bt(d);
                    for (const t of we[e(611)]())
                        xt(h = wt(t), s) ? xt(h, f) && delete we.get(t)[e(292)] : pt(t, h);
                    if (tt[e(442)][e(427)] && (!nt.hideCursors[e(427)] || m)) {
                        gt(E);
                        for (const t of Pe.values()) {
                            var h = t.l;
                            if (!xt(h, s)) {
                                var y = Math.round(10 * t.rawx * v)
                                    , g = Math.round(20 * t[e(201)] * v);
                                t[e(572)] && (E[e(585)] = e(281),
                                    E[e(527)](y - 2 * v, g - 2 * v, Math[e(262)](r) + 4 * v, Math.round(a) + 4 * v));
                                var p = t.c;
                                var anonIdShow = document.getElementById('anonIdShow').checked;
                                tt.disablecolour[e(427)] && (p = 0),
                                    0 == p && xe && (p = se[e(500)]),
                                    E[e(585)] = me[p],
                                    kt(y, g, r, a),
                                    !tt[e(567)][e(427)] || (i = h,
                                        c = void 0,
                                        l = void 0,
                                        u = void 0,
                                        c = n,
                                        l = 20 * Math[c(437)](i[0] / 20) + "," + 10 * Math.floor(i[1] / 10),
                                        (u = we[c(520)](l)) && u.protected && 0 == j) || Mt(t.n != "" || !anonIdShow ? t.n : `(${t.id || 0})`, y, g, o)
                            }
                        }
                    }
                    for (var b = 0; b < Ne[e(500)]; b++) {
                        0 == (p = Ne[b][3]) && xe && (p = se[e(500)]),
                            E[e(585)] = me[p][e(217)](e(620), Ne[b][2]);
                        var x = 10 * Ne[b][0] * v
                            , w = 20 * Ne[b][1] * v;
                        if (tt[e(442)][e(427)] && m) {
                            var M = Pe.get(Ne[b][4]);
                            null != M && M[e(572)] && (E.lineWidth = 3 * v,
                                E[e(670)] = p == se[e(500)] ? "#FFFFFF" : se[p],
                                E[e(410)](),
                                E[e(409)](Math[e(433)](10 * M[e(235)] * v + r / 2), Math[e(433)](20 * M[e(201)] * v + a)),
                                E[e(349)](Math[e(433)](x + r / 2), Math.round(w + a)),
                                E.stroke())
                        }
                        E[e(527)](x, w, r, a)
                    }
                    var anonIdShow = document.getElementById('anonIdShow').checked;
                    if (E[e(585)] = be,
                        kt(y = Math[e(433)](10 * Ce[e(235)] * v), g = Math[e(433)](20 * Ce[e(201)] * v), r, a),
                        tt[e(567)].checked && (gt(E),
                            Mt((tt[e(280)][e(427)] || je == "") && anonIdShow ? `(${window.w.clientId || 0})` : (tt[e(280)][e(427)] ? "" : je), y, g, o)),
                        Je && $e[e(258)] && $e[e(571)]) {
                        E.fillStyle = e(491),
                            y = Math[e(433)](10 * Math[e(678)]($e[e(258)].x, $e.end.x) * v),
                            g = Math.round(20 * Math.min($e[e(258)].y, $e[e(571)].y) * v);
                        var S = Math.round(10 * Math.max($e[e(258)].x, $e[e(571)].x) * v - y + 10 * v)
                            , I = Math.round(20 * Math[e(227)]($e[e(258)].y, $e[e(571)].y) * v - g + 20 * v);
                        E[e(527)](y, g, S, I)
                    }
                    if (Ve || Ze) {
                        E[e(585)] = Ve && Ze ? "rgba(195,219,224,0.5)" : e(Ve ? 665 : 516);
                        var C = 20 * Math.floor(Te.x / 20)
                            , T = 10 * Math[e(437)](Te.y / 10);
                        E.fillRect(10 * C * v, 20 * T * v, 200 * v, 200 * v)
                    }
                }(),
                    ge = !1,
                    t(307) != i.value && (i.value = t(307)),
                    i[t(481)] = 4),
                    0 != Ee[t(429)]) {
                    for (var l = wr + (Mr - 2); ;) {
                        var u = ke.shift()
                            , s = Ee[t(520)](u);
                        if (Ee[t(639)](u),
                            Xt(u, s),
                            0 == Ee.size || performance.now() >= l)
                            break
                    }
                    ge = !0
                }
                window[t(300)](e)
            }
            )),
                null != localStorage[n(414)]("x") && (Ce.x = parseInt(localStorage[n(414)]("x"))),
                null != localStorage[n(414)]("y") && (Ce.y = parseInt(localStorage[n(414)]("y"))),
                null != localStorage[n(414)](n(505)) ? mr(parseInt(localStorage[n(414)](n(505)))) : mr(0),
                null != localStorage[n(414)]("dec") && le(localStorage[n(414)](n(428))),
                null != localStorage.getItem(n(365)) && (O[n(356)] = localStorage[n(414)](n(365))),
                null != localStorage.getItem(n(333)) && (R.value = localStorage[n(414)](n(333))),
                null != $[localStorage[n(414)](n(504))] && vt(localStorage[n(414)]("font"));
            var Er = Object[n(611)](tt);
            for (ne = 0; ne < Er[n(500)]; ne++) {
                var Sr = Er[ne];
                null != localStorage.getItem(Sr) && (tt[Sr][n(427)] = n(498) == localStorage[n(414)](Sr))
            }
            if (tt[n(613)].checked || hn[n(676)][n(608)]("hidden"),
                tt[n(577)][n(427)] && hr(!0),
                null != localStorage[n(414)](n(444))) {
                var Ir = localStorage.getItem("customtheme");
                try {
                    var Cr = JSON.parse(Ir);
                    null != Cr[n(618)] && (B[n(356)] = Cr[n(618)]),
                        null != Cr.secondary && (F[n(356)] = Cr.secondary),
                        null != Cr[n(425)] && (P.checked = Cr[n(425)])
                } catch (e) { }
            }
            if (null != localStorage.getItem("theme")) {
                var Ar = localStorage[n(414)](n(352));
                yr(0 == Ar || 1 == Ar || 2 == Ar ? Number(Ar) : N)
            }
            var Tr, Br = (Tr = {},
                window.location[n(497)][n(217)](/[?&]+([^=&]+)=([^&]*)/gi, (function (e, t, n) {
                    Tr[t] = n
                }
                )),
                Tr), Fr = !1;
            function Pr() {
                return fr(location.pathname)
            }
            function Lr(e) {
                var t = n;
                if ("" == (e = decodeURI(e[t(499)]())) || t(297) == e)
                    return {
                        x: 0,
                        y: 0
                    };
                var r = function (e) {
                    for (var n, r = t, a = [], o = e + "", i = 0; i < o[r(500)];)
                        a[255 & i] = 255 & (n ^= 19 * a[255 & i]) + o[r(546)](i++);
                    var c, l = a[r(500)], u = this, s = 0, d = (i = u.i = u.j = 0,
                        u.S = []);
                    for (l || (a = [l++]); s < 256;)
                        d[s] = s++;
                    for (s = 0; s < 256; s++)
                        d[s] = d[i = 255 & i + a[s % l] + (c = d[s])],
                            d[i] = c;
                    var f = function (e) {
                        for (var t, n = 0, r = u.i, a = u.j, o = u.S; e--;)
                            t = o[r = 255 & r + 1],
                                n = 256 * n + o[255 & (o[r] = o[a = 255 & a + t]) + (o[a] = t)];
                        return u.i = r,
                            u.j = a,
                            n
                    };
                    return f(256),
                        function () {
                            for (var e = f(6), t = 281474976710656, n = 0; e < 4503599627370496;)
                                e = 256 * (e + n),
                                    t *= 256,
                                    n = f(1);
                            for (; e >= 9007199254740992;)
                                e /= 2,
                                    t /= 2,
                                    n >>>= 1;
                            return (e + n) / t
                        }
                }(e);
                return {
                    x: 20 * Math[t(437)]((Math[t(437)](2e5 * r()) - 1e5) / 20),
                    y: 10 * Math[t(437)]((Math[t(437)](2e5 * r()) - 1e5) / 10)
                }
            }
            null != Br.x && (Ce.x = parseInt(Br.x),
                Fr = !0),
                null != Br.y && (Ce.y = -1 * parseInt(Br.y),
                    Fr = !0),
                Br[n(485)] && (l[n(676)].add(n(692)),
                    hn[n(270)][n(550)] = "none");
            var Or, Rr, Dr, Nr, jr, Ur, Wr = Pr();
            if (Wr.length > 0)
                if (Wr[n(482)]("~"))
                    o = "/" + Wr,
                        Fr || Zn(0, 0);
                else {
                    var Hr = Lr(Wr);
                    Ce.x = Hr.x,
                        Ce.y = Hr.y
                }
            function Kr() {
                var e = n;
                if (null == a || a[e(348)] != WebSocket.CONNECTING && a[e(348)] != WebSocket.OPEN) {
                    var t = e(204) + location.host + e(189);
                    e(380) !== location.protocol && (t = e(641) + location[e(653)] + e(189)),
                        (a = new WebSocket(t))[e(518)] = e(648),
                        a.onmessage = Tn,
                        a[e(211)] = An,
                        a[e(701)] = An,
                        a.onopen = In,
                        document.getElementById(e(387))[e(537)] = "Connecting...",
                        document[e(628)](e(544)).innerText = "",
                        c[e(686)] = void 0
                }
            }
            function Xr(e, t) {
                var r = n
                    , a = parseInt(e[r(555)](1, 3), 16)
                    , o = parseInt(e[r(555)](3, 5), 16)
                    , i = parseInt(e[r(555)](5, 7), 16);
                return a += t,
                    o += t,
                    i += t,
                    a = Math.min(a, 255),
                    o = Math[r(678)](o, 255),
                    i = Math[r(678)](i, 255),
                    a = Math[r(227)](a, 0),
                    o = Math.max(o, 0),
                    i = Math[r(227)](i, 0),
                    "#" + zr(a.toString(16), 2) + zr(o.toString(16), 2) + zr(i.toString(16), 2)
            }
            window.Xr = Xr;
            function zr(e, t) {
                for (; e.length < t;)
                    e = "0" + e;
                return e
            }
            function qr(e) {
                return e >= 10240 && e <= 10495
            }
            function Yr(e, t) {
                var r = n;
                if (3 == (e = e.replace("#", "")).length && (e = e[0] + e[0] + e[1] + e[1] + e[2] + e[2]),
                    6 != e[r(500)])
                    throw new Error("invalid hex length");
                var a = parseInt(e, 16)
                    , o = (16711680 & a) >> 16
                    , i = (65280 & a) >> 8
                    , c = 255 & a;
                return t ? r(418) + o + ", " + i + ", " + c + ", " + t + ")" : "rgb(" + o + ", " + i + ", " + c + ")"
            }
            function Jr(e) {
                return e * e
            }
            function Vr(e, t) {
                return 31 * t + e
            }
            function Zr(e) {
                return [e % 31, Math[n(437)](e / 31)]
            }
            isNaN(Ce.x) && (Ce.x = 0),
                isNaN(Ce.y) && (Ce.y = 0),
                Ce[n(258)] = Ce.x,
                setTimeout((function () {
                    var e = n;
                    window[e(397)][e(390)]({}, document[e(310)], location[e(250)])
                }
                ), 0),
                Zn(Ce.x, Ce.y),
                null != localStorage.getItem(n(464)) && it(JSON[n(191)](localStorage[n(414)](n(464))), !1),
                Kr(),
                Or = function (e, r) {
                    var a = n;
                    if (r && r[a(607)] && !Array.isArray(e))
                        throw new Error;
                    const o = 4294967296;
                    let i, c, l = new Uint8Array(128), u = 0;
                    if (r && r[a(607)])
                        for (let t = 0; t < e[a(500)]; t++)
                            s(e[t]);
                    else
                        s(e);
                    return v(129),
                        l.subarray(0, u);
                    function s(e, n) {
                        var l = a;
                        switch (typeof e) {
                            case l(677):
                                d();
                                break;
                            case "boolean":
                                v(e ? 195 : 194);
                                break;
                            case l(541):
                                !function (e) {
                                    var t = l;
                                    if (isFinite(e) && Math[t(437)](e) === e)
                                        if (e >= 0 && e <= 127)
                                            v(e);
                                        else if (e < 0 && e >= -32)
                                            v(e);
                                        else if (e > 0 && e <= 255)
                                            m([204, e]);
                                        else if (e >= -128 && e <= 127)
                                            m([208, e]);
                                        else if (e > 0 && e <= 65535)
                                            m([205, e >>> 8, e]);
                                        else if (e >= -32768 && e <= 32767)
                                            m([209, e >>> 8, e]);
                                        else if (e > 0 && e <= 4294967295)
                                            m([206, e >>> 24, e >>> 16, e >>> 8, e]);
                                        else if (e >= -2147483648 && e <= 2147483647)
                                            m([210, e >>> 24, e >>> 16, e >>> 8, e]);
                                        else if (e > 0 && e <= 0x10000000000000000) {
                                            let t = e / o
                                                , n = e % o;
                                            m([211, t >>> 24, t >>> 16, t >>> 8, t, n >>> 24, n >>> 16, n >>> 8, n])
                                        } else
                                            e >= -0x8000000000000000 && e <= 0x8000000000000000 ? (v(211),
                                                h(e)) : m(e < 0 ? [211, 128, 0, 0, 0, 0, 0, 0, 0] : [207, 255, 255, 255, 255, 255, 255, 255, 255]);
                                    else
                                        c || (i = new ArrayBuffer(8),
                                            c = new DataView(i)),
                                            c.setFloat64(0, e),
                                            v(203),
                                            m(new Uint8Array(i))
                                }(e);
                                break;
                            case l(511):
                                !function (e) {
                                    var n = l;
                                    let r = function (e) {
                                        var n = t;
                                        let r = !0
                                            , a = e[n(500)];
                                        for (let t = 0; t < a; t++)
                                            if (e[n(656)](t) > 127) {
                                                r = !1;
                                                break
                                            }
                                        let o = 0
                                            , i = new Uint8Array(e[n(500)] * (r ? 1 : 4));
                                        for (let t = 0; t !== a; t++) {
                                            let r = e[n(656)](t);
                                            if (r < 128)
                                                i[o++] = r;
                                            else {
                                                if (r < 2048)
                                                    i[o++] = r >> 6 | 192;
                                                else {
                                                    if (r > 55295 && r < 56320) {
                                                        if (++t >= a)
                                                            throw new Error;
                                                        let n = e.charCodeAt(t);
                                                        if (n < 56320 || n > 57343)
                                                            throw new Error;
                                                        r = 65536 + ((1023 & r) << 10) + (1023 & n),
                                                            i[o++] = r >> 18 | 240,
                                                            i[o++] = r >> 12 & 63 | 128
                                                    } else
                                                        i[o++] = r >> 12 | 224;
                                                    i[o++] = r >> 6 & 63 | 128
                                                }
                                                i[o++] = 63 & r | 128
                                            }
                                        }
                                        return r ? i : i.subarray(0, o)
                                    }(e)
                                        , a = r[n(500)];
                                    a <= 31 ? v(160 + a) : m(a <= 255 ? [217, a] : a <= 65535 ? [218, a >>> 8, a] : [219, a >>> 24, a >>> 16, a >>> 8, a]),
                                        m(r)
                                }(e);
                                break;
                            case l(279):
                                null === e ? d() : e instanceof Date ? function (e) {
                                    let t = e.getTime() / 1e3;
                                    if (0 === e.getMilliseconds() && t >= 0 && t < 4294967296)
                                        m([214, 255, t >>> 24, t >>> 16, t >>> 8, t]);
                                    else if (t >= 0 && t < 17179869184) {
                                        let n = 1e6 * e.getMilliseconds();
                                        m([215, 255, n >>> 22, n >>> 14, n >>> 6, n << 2 >>> 0 | t / o, t >>> 24, t >>> 16, t >>> 8, t])
                                    } else {
                                        let n = 1e6 * e.getMilliseconds();
                                        m([199, 12, 255, n >>> 24, n >>> 16, n >>> 8, n]),
                                            h(t)
                                    }
                                }(e) : Array[l(662)](e) ? f(e) : e instanceof Uint8Array || e instanceof Uint8ClampedArray ? function (e) {
                                    let t = e[l(500)];
                                    m(t <= 15 ? [196, t] : t <= 65535 ? [197, t >>> 8, t] : [198, t >>> 24, t >>> 16, t >>> 8, t]),
                                        m(e)
                                }(e) : e instanceof Int8Array || e instanceof Int16Array || e instanceof Uint16Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Float32Array || e instanceof Float64Array ? f(e) : function (e) {
                                    let t = 0;
                                    for (let n in e)
                                        void 0 !== e[n] && t++;
                                    t <= 15 ? v(128 + t) : m(t <= 65535 ? [222, t >>> 8, t] : [223, t >>> 24, t >>> 16, t >>> 8, t]);
                                    for (let t in e) {
                                        let n = e[t];
                                        void 0 !== n && (s(t),
                                            s(n))
                                    }
                                }(e);
                                break;
                            default:
                                if (n || !r || !r[l(313)])
                                    throw new Error;
                                l(688) == typeof r[l(313)] ? s(r[l(313)](e), !0) : s(r[l(313)], !0)
                        }
                    }
                    function d(e) {
                        v(192)
                    }
                    function f(e) {
                        let t = e.length;
                        t <= 15 ? v(144 + t) : m(t <= 65535 ? [220, t >>> 8, t] : [221, t >>> 24, t >>> 16, t >>> 8, t]);
                        for (let n = 0; n < t; n++)
                            s(e[n])
                    }
                    function v(e) {
                        var t = a;
                        if (l[t(500)] < u + 1) {
                            let e = 2 * l[t(500)];
                            for (; e < u + 1;)
                                e *= 2;
                            let n = new Uint8Array(e);
                            n.set(l),
                                l = n
                        }
                        l[u] = e,
                            u++
                    }
                    function m(e) {
                        var t = a;
                        if (l[t(500)] < u + e.length) {
                            let n = 2 * l.length;
                            for (; n < u + e[t(500)];)
                                n *= 2;
                            let r = new Uint8Array(n);
                            r.set(l),
                                l = r
                        }
                        l[t(644)](e, u),
                            u += e[t(500)]
                    }
                    function h(e) {
                        var t = a;
                        let n, r;
                        e >= 0 ? (n = e / o,
                            r = e % o) : (e++,
                                n = Math.abs(e) / o,
                                r = Math[t(330)](e) % o,
                                n = ~n,
                                r = ~r),
                            m([n >>> 24, n >>> 16, n >>> 8, n, r >>> 24, r >>> 16, r >>> 8, r])
                    }
                }
                ,
                Rr = function (e, r) {
                    var a = n;
                    let o, i = 0;
                    if (e instanceof ArrayBuffer && (e = new Uint8Array(e)),
                        "object" != typeof e || void 0 === e[a(500)])
                        throw new Error;
                    if (!e[a(500)])
                        throw new Error;
                    if (e instanceof Uint8Array || (e = new Uint8Array(e)),
                        r && r.bdtiple)
                        for (o = []; i < e[a(500)];)
                            o[a(398)](c());
                    else
                        o = c();
                    return o;
                    function c() {
                        const t = e[i++];
                        if (t >= 0 && t <= 127)
                            return t;
                        if (t >= 128 && t <= 143)
                            return f(t - 128);
                        if (t >= 144 && t <= 159)
                            return v(t - 144);
                        if (t >= 160 && t <= 191)
                            return m(t - 160);
                        if (192 === t)
                            return null;
                        if (193 === t)
                            throw new Error;
                        if (194 === t)
                            return !1;
                        if (195 === t)
                            return !0;
                        if (196 === t)
                            return d(-1, 1);
                        if (197 === t)
                            return d(-1, 2);
                        if (198 === t)
                            return d(-1, 4);
                        if (199 === t)
                            return h(-1, 1);
                        if (200 === t)
                            return h(-1, 2);
                        if (201 === t)
                            return h(-1, 4);
                        if (202 === t)
                            return s(4);
                        if (203 === t)
                            return s(8);
                        if (204 === t)
                            return u(1);
                        if (205 === t)
                            return u(2);
                        if (206 === t)
                            return u(4);
                        if (207 === t)
                            return u(8);
                        if (208 === t)
                            return l(1);
                        if (209 === t)
                            return l(2);
                        if (210 === t)
                            return l(4);
                        if (211 === t)
                            return l(8);
                        if (212 === t)
                            return h(1);
                        if (213 === t)
                            return h(2);
                        if (214 === t)
                            return h(4);
                        if (215 === t)
                            return h(8);
                        if (216 === t)
                            return h(16);
                        if (217 === t)
                            return m(-1, 1);
                        if (218 === t)
                            return m(-1, 2);
                        if (219 === t)
                            return m(-1, 4);
                        if (220 === t)
                            return v(-1, 2);
                        if (221 === t)
                            return v(-1, 4);
                        if (222 === t)
                            return f(-1, 2);
                        if (223 === t)
                            return f(-1, 4);
                        if (t >= 224 && t <= 255)
                            return t - 256;
                        throw console.debug("msgpack array:", e),
                        new Error
                    }
                    function l(t) {
                        let n = 0
                            , r = !0;
                        for (; t-- > 0;)
                            if (r) {
                                let t = e[i++];
                                n += 127 & t,
                                    128 & t && (n -= 128),
                                    r = !1
                            } else
                                n *= 256,
                                    n += e[i++];
                        return n
                    }
                    function u(t) {
                        let n = 0;
                        for (; t-- > 0;)
                            n *= 256,
                                n += e[i++];
                        return n
                    }
                    function s(t) {
                        var n = a;
                        let r = new DataView(e.buffer, i + e[n(592)], t);
                        return i += t,
                            4 === t ? r.getFloat32(0, !1) : 8 === t ? r[n(574)](0, !1) : void 0
                    }
                    function d(t, n) {
                        var r = a;
                        t < 0 && (t = u(n));
                        let o = e[r(203)](i, i + t);
                        return i += t,
                            o
                    }
                    function f(e, t) {
                        e < 0 && (e = u(t));
                        let n = {};
                        for (; e-- > 0;)
                            n[c()] = c();
                        return n
                    }
                    function v(e, t) {
                        var n = a;
                        e < 0 && (e = u(t));
                        let r = [];
                        for (; e-- > 0;)
                            r[n(398)](c());
                        return r
                    }
                    function m(n, r) {
                        n < 0 && (n = u(r));
                        let a = i;
                        return i += n,
                            function (e, n, r) {
                                var a = t;
                                let o = n
                                    , i = "";
                                for (r += n; o < r;) {
                                    let t = e[o++];
                                    if (t > 127)
                                        if (t > 191 && t < 224) {
                                            if (o >= r)
                                                throw new Error;
                                            t = (31 & t) << 6 | 63 & e[o++]
                                        } else if (t > 223 && t < 240) {
                                            if (o + 1 >= r)
                                                throw new Error;
                                            t = (15 & t) << 12 | (63 & e[o++]) << 6 | 63 & e[o++]
                                        } else {
                                            if (!(t > 239 && t < 248))
                                                throw new Error;
                                            if (o + 2 >= r)
                                                throw new Error;
                                            t = (7 & t) << 18 | (63 & e[o++]) << 12 | (63 & e[o++]) << 6 | 63 & e[o++]
                                        }
                                    if (t <= 65535)
                                        i += String[a(354)](t);
                                    else {
                                        if (!(t <= 1114111))
                                            throw new Error;
                                        t -= 65536,
                                            i += String.fromCharCode(t >> 10 | 55296),
                                            i += String[a(354)](1023 & t | 56320)
                                    }
                                }
                                return i
                            }(e, a, n)
                    }
                    function h(e, n) {
                        e < 0 && (e = u(n));
                        let r = u(1)
                            , a = d(e);
                        return 255 === r ? function (e) {
                            var n = t;
                            if (4 === e[n(500)]) {
                                let t = (e[0] << 24 >>> 0) + (e[1] << 16 >>> 0) + (e[2] << 8 >>> 0) + e[3];
                                return new Date(1e3 * t)
                            }
                            if (8 === e[n(500)]) {
                                let t = (e[0] << 22 >>> 0) + (e[1] << 14 >>> 0) + (e[2] << 6 >>> 0) + (e[3] >>> 2)
                                    , n = 4294967296 * (3 & e[3]) + (e[4] << 24 >>> 0) + (e[5] << 16 >>> 0) + (e[6] << 8 >>> 0) + e[7];
                                return new Date(1e3 * n + t / 1e6)
                            }
                            if (12 === e[n(500)]) {
                                let t = (e[0] << 24 >>> 0) + (e[1] << 16 >>> 0) + (e[2] << 8 >>> 0) + e[3];
                                i -= 8;
                                let n = l(8);
                                return new Date(1e3 * n + t / 1e6)
                            }
                            throw new Error
                        }(a) : {
                            type: r,
                            data: a
                        }
                    }
                }
                ,
                Array.prototype[n(466)] || (Array[n(246)][n(466)] = function (e) {
                    return !!~this.indexOf(e)
                }
                ),
                Array[n(246)][n(198)] || (Array[n(246)].indexOf = function (e, n, r) {
                    "use strict";
                    return function (a, o) {
                        if (null == this)
                            throw TypeError(t(631));
                        var i = e(this)
                            , c = i.length >>> 0
                            , l = r(0 | o, c);
                        if (l < 0)
                            l = n(0, c + l);
                        else if (l >= c)
                            return -1;
                        if (void 0 === a) {
                            for (; l !== c; ++l)
                                if (void 0 === i[l] && l in i)
                                    return l
                        } else if (a != a) {
                            for (; l !== c; ++l)
                                if (i[l] != i[l])
                                    return l
                        } else
                            for (; l !== c; ++l)
                                if (i[l] === a)
                                    return l;
                        return -1
                    }
                }(Object, Math.max, Math[n(678)])),
                Array[n(296)] || (Array[n(296)] = (Dr = Object[n(246)][n(561)],
                    Nr = function (e) {
                        return "function" == typeof e || n(247) === Dr.call(e)
                    }
                    ,
                    jr = Math[n(396)](2, 53) - 1,
                    Ur = function (e) {
                        var r, a, o = n, i = (r = t,
                            a = Number(e),
                            isNaN(a) ? 0 : 0 !== a && isFinite(a) ? (a > 0 ? 1 : -1) * Math[r(437)](Math[r(330)](a)) : a);
                        return Math[o(678)](Math[o(227)](i, 0), jr)
                    }
                    ,
                    function (e) {
                        var t = n
                            , r = this
                            , a = Object(e);
                        if (null == e)
                            throw new TypeError(t(578));
                        var o, i = arguments[t(500)] > 1 ? arguments[1] : void 0;
                        if (void 0 !== i) {
                            if (!Nr(i))
                                throw new TypeError(t(582));
                            arguments.length > 2 && (o = arguments[2])
                        }
                        for (var c, l = Ur(a.length), u = Nr(r) ? Object(new r(l)) : new Array(l), s = 0; s < l;)
                            c = a[s],
                                u[s] = i ? void 0 === o ? i(c, s) : i[t(619)](o, c, s) : c,
                                s += 1;
                        return u[t(500)] = l,
                            u
                    }
                )),
                Math[n(636)] || (Math[n(636)] = function (e) {
                    return (e > 0) - (e < 0) || +e
                }
                ),
                String.prototype.startsWith || Object.defineProperty(String[n(246)], n(482), {
                    value: function (e, t) {
                        var r = n
                            , a = t > 0 ? 0 | t : 0;
                        return this.substring(a, a + e[r(500)]) === e
                    }
                }),
                String[n(246)][n(546)] || function () {
                    "use strict";
                    var e = n
                        , r = function () {
                            var e = t;
                            try {
                                var n = {}
                                    , r = Object[e(360)]
                                    , a = r(n, n, n) && r
                            } catch (e) { }
                            return a
                        }()
                        , a = function (e) {
                            var n = t;
                            if (null == this)
                                throw TypeError();
                            var r = String(this)
                                , a = r.length
                                , o = e ? Number(e) : 0;
                            if (o != o && (o = 0),
                                !(o < 0 || o >= a)) {
                                var i, c = r[n(656)](o);
                                return c >= 55296 && c <= 56319 && a > o + 1 && (i = r[n(656)](o + 1)) >= 56320 && i <= 57343 ? 1024 * (c - 55296) + i - 56320 + 65536 : c
                            }
                        };
                    r ? r(String.prototype, e(546), {
                        value: a,
                        configurable: !0,
                        writable: !0
                    }) : String[e(246)][e(546)] = a
                }(),
                String[n(438)] || function (e) {
                    var r = n
                        , a = function (n) {
                            for (var r = t, a = [], o = 0, i = "", c = 0, l = arguments.length; c !== l; ++c) {
                                var u = +arguments[c];
                                if (!(u < 1114111 && u >>> 0 === u))
                                    throw RangeError(r(575) + u);
                                u <= 65535 ? o = a[r(398)](u) : (u -= 65536,
                                    o = a.push(55296 + (u >> 10), u % 1024 + 56320)),
                                    o >= 16383 && (i += e[r(411)](null, a),
                                        a[r(500)] = 0)
                            }
                            return i + e[r(411)](null, a)
                        };
                    try {
                        Object[r(360)](String, "fromCodePoint", {
                            value: a,
                            configurable: !0,
                            writable: !0
                        })
                    } catch (e) {
                        String.fromCodePoint = a
                    }
                }(String[n(354)]),
                CanvasRenderingContext2D[n(246)][n(339)] || (CanvasRenderingContext2D.prototype[n(339)] = function (e, t, r, a, o) {
                    var i = n
                        , c = new Array(4);
                    if (i(279) == typeof o)
                        switch (o[i(500)]) {
                            case 1:
                                c[i(616)](o[0], 0, 4);
                                break;
                            case 2:
                                c[i(616)](o[0], 0, 4),
                                    c[1] = c[3] = o[1];
                                break;
                            case 3:
                                c[0] = o[0],
                                    c[1] = c[3] = o[1],
                                    c[2] = o[2];
                                break;
                            case 4:
                                c = o;
                                break;
                            default:
                                c.fill(0, 0, 4)
                        }
                    this[i(410)](),
                        this[i(409)](e + c[0], t),
                        this[i(349)](e + r - c[1], t),
                        this[i(453)](e + r, t, e + r, t + c[1]),
                        this[i(349)](e + r, t + a - c[2]),
                        this.quadraticCurveTo(e + r, t + a, e + r - c[2], t + a),
                        this[i(349)](e + c[3], t + a),
                        this.quadraticCurveTo(e, t + a, e, t + a - c[3]),
                        this[i(349)](e, t + c[0]),
                        this[i(453)](e, t, e + c[0], t),
                        this.closePath()
                }
                );
            const $r = 10 == f[n(558)]() && f[n(402)]() >= 28 || 11 == f[n(558)]() || 0 == f[n(558)]() && f[n(402)]() <= 6 || localStorage.getItem(n(355))
                , Gr = [n(654), n(472)]
                , Qr = [4, 7, 9, 12];
            $r && setInterval((function () {
                var e = n;
                if (e(391) == W && e(622) == H && !tt.disablecolour.checked)
                    for (var t = 0; t < Gr[e(500)]; t++) {
                        var r = Gr[t]
                            , a = we[e(520)](r);
                        if (null != a && null != a[e(704)]) {
                            for (var o = 0; o < 200; o++)
                                switch (a[e(704)][o]) {
                                    case "?":
                                    case "'":
                                        a[e(212)][o] = Qr[Math.floor(4 * Math[e(458)]())]
                                }
                            St(r, !1)
                        }
                    }
            }
            ), 400);
            function advancedSplit(str, noSurrog, noComb, norm) {
                if (str && str.constructor == Array) return str.slice(0);
                var chars = [];
                var buffer = "";
                var surrogMode = false;
                var charMode = false;
                var combCount = 0;
                var combLimit = 15;
                for (var i = 0; i < str.length; i++) {
                    var char = str[i];
                    var code = char.charCodeAt();
                    if (code >= 0xDC00 && code <= 0xDFFF) {
                        if (surrogMode) {
                            buffer += char;
                        } else {
                            buffer = "";
                            chars.push("?");
                        }
                        surrogMode = false;
                        combCount = 0;
                        continue;
                    } else if (surrogMode) {
                        buffer = "";
                        chars.push("?");
                        surrogMode = false;
                        continue;
                    }
                    if (!noSurrog && code >= 0xD800 && code <= 0xDBFF) {
                        if (charMode) {
                            chars.push(buffer);
                        }
                        charMode = true;
                        surrogMode = true;
                        buffer = char;
                        continue;
                    }
                    if (!norm && ((code >= 0x0300 && code <= 0x036F) ||
                        (code >= 0x1DC0 && code <= 0x1DFF) ||
                        (code >= 0x20D0 && code <= 0x20FF) ||
                        (code >= 0xFE20 && code <= 0xFE2F))) {
                        if (!noComb && charMode && combCount < combLimit) {
                            buffer += char;
                            combCount++;
                        }
                        continue;
                    } else {
                        if (charMode) {
                            chars.push(buffer);
                        }
                        combCount = 0;
                        charMode = true;
                        buffer = char;
                    }
                }
                if (buffer) {
                    chars.push(buffer);
                }
                return chars;
            }
            window.w.typeChar = writeChar;
            window.w.socket = {}
            Object.defineProperty(window.w, "socket", {
                get: function () { return a }
            });
            window.w.clipboard = {
                textarea: null,
                init: function () {
                    var area = document.createElement("textarea");
                    area.value = "";
                    area.id = "textCopy";
                    area.style.width = "1px";
                    area.style.height = "1px";
                    area.style.position = "absolute";
                    area.style.left = "-1000px";
                    area.style.top = "-1000px";
                    document.body.appendChild(area);
                    window.w.clipboard.textarea = area;
                },
                copy: function (string) {
                    window.w.clipboard.textarea.value = string;
                    window.w.clipboard.textarea.select();
                    document.execCommand("copy");
                    window.w.clipboard.textarea.value = "";
                }
            }
            window.w.clipboard.init();
            window.w.showChat = function (toggle) {
                const chat = document.getElementById("chat");
                if (!chat) return; // safety check

                if (toggle === undefined) {

                    chat.classList.toggle("open");
                    return;
                }

                const shouldShow = toggle === true || toggle === 1 || toggle === "1" || toggle === "true" || toggle === "show";

                if (shouldShow) {
                    chat.classList.add("open");
                } else {
                    chat.classList.remove("open");
                }
            };
            window.w.split = advancedSplit;
            window.w.chat = {};
            window.w.chat.send = aib;
            window.undoWrite = undoWrite;
            window.network = {};
            window.network.binary = Or;
            window.network.text = Rr;
            window.network.send = function (data) {
                a.send(window.network.binary(data))
            };
            window.network.wsUrl = "wss://" + location.host + "/ws";
            window.w.changeZoom = function (e, t) {
                console.warn("remember, this won't save!");
                var r = n;
                rt = e < 0 ? 0 : e > 10000 ? 10000 : e,
                    at = Math.round(100 * rt) / 100,
                    ot[r(356)] = 10 * at,
                    t && ir(Math[r(433)](100 * at) + "% ", 1e3),
                    kn()
            }
            window.w.changeColor = mr;
            window.w.showToast = ir;
        }(n(677) == typeof browser ? browser = {} : browser)
}("undefined" == typeof browser ? browser = {} : browser);
